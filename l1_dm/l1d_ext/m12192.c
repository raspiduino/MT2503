/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE.
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/

/*******************************************************************************
 *
 * Filename:
 * ---------
 *   m12192.c
 *
 * Project:
 * --------
 *   MT6208
 *
 * Description:
 * ------------
 *   Setup Gain
 *
 * Author:
 * -------
 * -------
 *
 *------------------------------------------------------------------------------
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 *
 *******************************************************************************/


/*===============================================================================*/
/*                                                                               */
/* int L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain,          */
/*                            long *gain_setting )                               */
/*                                                                               */
/*===============================================================================*/
/*                                                                               */
/* rf_band      : RF Band. the value is 0 (GSM) or 1 (DCS)                       */
/* arfcn        : ARFCN number                                                   */
/* request_gain : Request Gain. the unit is 0.125 dBm                            */
/* *gain_setting: the Setting Value for tranceiver gain.                         */
/* return       : returned Actually Setting Gain. the unit is 0.125 dBm.         */
/*                                                                               */
/* ----------------------------------------------------------------------------- */
/*                                                                               */
/* This program evaluates the AGC setting value by the request gain for Bright2. */
/* If the AGC component is changed, this file shall be modified by vendor        */
/*                                                                               */
/* ----------------------------------------------------------------------------- */

#include "l1d_cid.h"
#include "m12190.h"

/*================================================================================================*/

#define  ROUNDINT( n )                    ((int)(((n)>=0)?((n)+0.5):((n)-0.5)))
#define  GC_B                             ((GAIN_STEP)*(PWRRES))
#define  GC_A( bitno, gain  )             (short)ROUNDINT(((1+2*(bitno))*GC_B/2-(gain)*(PWRRES)))
#define  GBOUND( gain1, gain2 )           (short)ROUNDINT((((gain1)+(gain2))/2.0*(PWRRES)))
#define  BIT_NO( reqgain, A, B )          (((reqgain)+(A))/(B))
#define  REAL_GAIN( bitno, A, B )         ((bitno)*(B)-(A)+(B)/2)

/*================================================================================================*/

#if IS_RF_BRIGHT2
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_BRIGHT4
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_BRIGHT5P
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_AERO
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #else
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #endif
/* under construction !*/
/*AERO*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #else
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #if IS_GPRS
/* under construction !*/
/*AERO*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/*AERO*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #if IS_GSM
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_AERO1PLUS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #else
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #endif
/* under construction !*/
/*AERO1+*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #else
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #if IS_GPRS
/* under construction !*/
/*AERO1+*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #if IS_GSM
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*AERO1+*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_POLARIS1
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if  0 /* AMR use */
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*SKY74117*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*SKY74117*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_SKY74117 /* GPRS use */
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*SKY74117*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*SKY74117*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_SKY74400
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*SKY74400*/ #if IS_GPRS
/* under construction !*/
/* under construction !*/
/* under construction !*/
/*SKY74400*/ #endif
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6119
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6119C
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6129A
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6129B
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if  (IS_RF_MT6129C)||(IS_RF_MT6129D)
/*MT6129C,D*/
/*MT6129C,D*/ #define  GAIN_STEP               2
/*MT6129C,D*/
/*MT6129C,D*/ #define  RF_GSM850_MAXGAIN      (  72.0*(PWRRES))
/*MT6129C,D*/ #define  RF_GSM850_MINGAIN      ( -26.0*(PWRRES))
/*MT6129C,D*/ #define  RF_GSM_MAXGAIN         (  72.0*(PWRRES))
/*MT6129C,D*/ #define  RF_GSM_MINGAIN         ( -26.0*(PWRRES))
/*MT6129C,D*/ #define  RF_DCS_MAXGAIN         (  70.0*(PWRRES))
/*MT6129C,D*/ #define  RF_DCS_MINGAIN         ( -28.0*(PWRRES))
/*MT6129C,D*/ #define  RF_PCS_MAXGAIN         (  70.0*(PWRRES))
/*MT6129C,D*/ #define  RF_PCS_MINGAIN         ( -28.0*(PWRRES))
/*MT6129C,D*/
/*MT6129C,D*/ /* GSM850....................................................................*/

/*MT6129C,D*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[3] =
/*MT6129C,D*/ {  {  GBOUND( 34.0, 32.0 ), GC_A( 11, 34.0 ), 0x126012 },
/*MT6129C,D*/    {  GBOUND( -6.0, -8.0 ), GC_A( 32, -6.0 ), 0x006012 },
/*MT6129C,D*/    {  GBOUND(-26.0,-26.0 ), GC_A(  0,-26.0 ), 0x006002 },
/*MT6129C,D*/ };

/*MT6129C,D*/ /* GSM900....................................................................*/
/*MT6129C,D*/
/*MT6129C,D*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[3] =
/*MT6129C,D*/ {  {  GBOUND( 34.0, 32.0 ), GC_A( 11, 34.0 ), 0x126812 },
/*MT6129C,D*/    {  GBOUND( -6.0, -8.0 ), GC_A( 32, -6.0 ), 0x006812 },
/*MT6129C,D*/    {  GBOUND(-26.0,-26.0 ), GC_A(  0,-26.0 ), 0x006802 },
/*MT6129C,D*/ };
/*MT6129C,D*/
/*MT6129C,D*/ /* DCS1800...................................................................*/
/*MT6129C,D*/
/*MT6129C,D*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[3] =
/*MT6129C,D*/ {  {  GBOUND( 32.0, 30.0 ), GC_A( 11, 32.0 ), 0x127012 },
/*MT6129C,D*/    {  GBOUND( -8.0,-10.0 ), GC_A( 32, -8.0 ), 0x007012 },
/*MT6129C,D*/    {  GBOUND(-28.0,-28.0 ), GC_A(  0,-28.0 ), 0x007002 },
/*MT6129C,D*/ };
/*MT6129C,D*/
/*MT6129C,D*/ /* PCS1900...................................................................*/
/*MT6129C,D*/
/*MT6129C,D*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[3] =
/*MT6129C,D*/ {  {  GBOUND( 32.0, 30.0 ), GC_A( 11, 32.0 ), 0x127812 },
/*MT6129C,D*/    {  GBOUND( -8.0,-10.0 ), GC_A( 32, -8.0 ), 0x007812 },
/*MT6129C,D*/    {  GBOUND(-28.0,-28.0 ), GC_A(  0,-28.0 ), 0x007802 },
/*MT6129C,D*/ };
/*MT6129C,D*/
/*MT6129C,D*/ /*...........................................................................*/
/*MT6129C,D*/
/*MT6129C,D*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MT6129C,D*/ {  {                   0,                      0    }, /*#FrequencyBand400  */
/*MT6129C,D*/    { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MT6129C,D*/    { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MT6129C,D*/    { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MT6129C,D*/    { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MT6129C,D*/ };
/*MT6129C,D*/
/*MT6129C,D*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MT6129C,D*/ {  0,                                              /*#FrequencyBand400  */
/*MT6129C,D*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*MT6129C,D*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*MT6129C,D*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*MT6129C,D*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*MT6129C,D*/ };
/*MT6129C,D*/
/*MT6129C,D*/ const  sL1DAGCDATA *const  AGC_TABLE_GSM800in900PATH[] =
/*MT6129C,D*/ {  0,                                              /*#FrequencyBand400 (not support)  */
/*MT6129C,D*/    AGC_TABLE_GSM900,                               /* FrequencyBand900 (Get GSM850 signal from GSM900 input pins) */
/*MT6129C,D*/    AGC_TABLE_GSM850,                               /* FrequencyBand850 (Get GSM900 signal from GSM850 input pins, just avoid to camp on GSM900 network, not swap*/
/*MT6129C,D*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800               */
/*MT6129C,D*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900               */
/*MT6129C,D*/ };
/*MT6129C,D*/
/*MT6129C,D*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6129C,D*/
/*MT6129C,D*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6129C,D*/ {  int   max_gain, min_gain, real_gain;
/*MT6129C,D*/    const int*    d32ptr;
/*MT6129C,D*/    const sL1DAGCDATA*  agcptr;
/*MT6129C,D*/    long  setting;
/*MT6129C,D*/    int   bit_no;
/*MT6129C,D*/
/*MT6129C,D*/    /* evaluate the range of available gain */
/*MT6129C,D*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MT6129C,D*/    max_gain = *d32ptr++;
/*MT6129C,D*/    min_gain = *d32ptr;
/*MT6129C,D*/
/*MT6129C,D*/    /* clipping the request gain to the avialable gain */
/*MT6129C,D*/    if( request_gain>=max_gain )
/*MT6129C,D*/    {  request_gain = max_gain;  }
/*MT6129C,D*/    else  if( request_gain<=min_gain )
/*MT6129C,D*/    {  request_gain = min_gain;  }
/*MT6129C,D*/
/*MT6129C,D*/    /* evaluate the real gain setting */
/*MT6129C,D*/    if(  BBTXParameters.bbrx_gsm850_gsm900_swap )
/*MT6129C,D*/    {   agcptr = AGC_TABLE_GSM800in900PATH[rf_band];  }
/*MT6129C,D*/    else
/*MT6129C,D*/    {   agcptr = AGC_TABLE[rf_band];           }
/*MT6129C,D*/
/*MT6129C,D*/    if( request_gain < agcptr->pos_gain )
/*MT6129C,D*/    {  agcptr++;
/*MT6129C,D*/       if( request_gain < agcptr->pos_gain )
/*MT6129C,D*/       {  agcptr++;  }
/*MT6129C,D*/    }
/*MT6129C,D*/    {  bit_no    = BIT_NO( request_gain, agcptr->A, GC_B );
/*MT6129C,D*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B );
/*MT6129C,D*/       setting   = agcptr->setting + (bit_no<<5);
/*MT6129C,D*/    }
/*MT6129C,D*/
/*MT6129C,D*/    *gain_setting = setting;
/*MT6129C,D*/    return( real_gain );
/*MT6129C,D*/ }
/*MT6129C,D*/
#endif

#if IS_RF_MT6139B
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6139C
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6139E
/*MT6139E*/
/*MT6139E*/ #define  GAIN_STEP               2
/*MT6139E*/
/*MT6139E*/ #define  RF_GSM850_MAXGAIN      (  56.0*(PWRRES))
/*MT6139E*/ #define  RF_GSM850_MINGAIN      ( -28.0*(PWRRES))
/*MT6139E*/ #define  RF_GSM_MAXGAIN         (  56.0*(PWRRES))
/*MT6139E*/ #define  RF_GSM_MINGAIN         ( -28.0*(PWRRES))
/*MT6139E*/ #define  RF_DCS_MAXGAIN         (  56.0*(PWRRES))
/*MT6139E*/ #define  RF_DCS_MINGAIN         ( -28.0*(PWRRES))
/*MT6139E*/ #define  RF_PCS_MAXGAIN         (  56.0*(PWRRES))
/*MT6139E*/ #define  RF_PCS_MINGAIN         ( -28.0*(PWRRES))
/*MT6139E*/
/*MT6139E*/ /* GSM850....................................................................*/
/*MT6139E*/
/*MT6139E*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*MT6139E*/ {  {  GBOUND( -4.0, -6.0 ), GC_A(  0, -4.0 ), 0x000E02 },
/*MT6139E*/    {  GBOUND(-32.0,-32.0 ), GC_A(  4,-32.0 ), 0x000C02 },
/*MT6139E*/ };
/*MT6139E*/
/*MT6139E*/ /* GSM900....................................................................*/
/*MT6139E*/
/*MT6139E*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*MT6139E*/ {  {  GBOUND( -4.0, -6.0 ), GC_A(  0, -4.0 ), 0x000E02 },
/*MT6139E*/    {  GBOUND(-32.0,-32.0 ), GC_A(  4,-32.0 ), 0x000C02 },
/*MT6139E*/ };
/*MT6139E*/
/*MT6139E*/ /* DCS1800...................................................................*/
/*MT6139E*/
/*MT6139E*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2] =
/*MT6139E*/ {  {  GBOUND( -4.0, -6.0 ), GC_A(  0, -4.0 ), 0x000E02 },
/*MT6139E*/    {  GBOUND(-32.0,-32.0 ), GC_A(  4,-32.0 ), 0x000C02 },
/*MT6139E*/ };
/*MT6139E*/
/*MT6139E*/ /* PCS1900...................................................................*/
/*MT6139E*/
/*MT6139E*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2] =
/*MT6139E*/ {  {  GBOUND( -4.0, -6.0 ), GC_A(  0, -4.0 ), 0x000E02 },
/*MT6139E*/    {  GBOUND(-32.0,-32.0 ), GC_A(  4,-32.0 ), 0x000C02 },
/*MT6139E*/ };
/*MT6139E*/
/*MT6139E*/ /*...........................................................................*/
/*MT6139E*/
/*MT6139E*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MT6139E*/ {  {                   0,                      0    }, /*#FrequencyBand400  */
/*MT6139E*/    { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MT6139E*/    { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MT6139E*/    { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MT6139E*/    { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MT6139E*/ };
/*MT6139E*/
/*MT6139E*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MT6139E*/ {  0,                                              /*#FrequencyBand400  */
/*MT6139E*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*MT6139E*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*MT6139E*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*MT6139E*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*MT6139E*/ };
/*MT6139E*/
/*MT6139E*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6139E*/
/*MT6139E*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6139E*/ {  int   max_gain, min_gain, real_gain;
/*MT6139E*/    const int*    d32ptr;
/*MT6139E*/    const sL1DAGCDATA*  agcptr;
/*MT6139E*/    long  setting;
/*MT6139E*/    int   bit_no;
/*MT6139E*/
/*MT6139E*/    /* evaluate the range of available gain */
/*MT6139E*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MT6139E*/    max_gain = *d32ptr++;
/*MT6139E*/    min_gain = *d32ptr;
/*MT6139E*/
/*MT6139E*/    /* clipping the request gain to the avialable gain */
/*MT6139E*/    if( request_gain>=max_gain )
/*MT6139E*/    {  request_gain = max_gain;  }
/*MT6139E*/    else  if( request_gain<=min_gain )
/*MT6139E*/    {  request_gain = min_gain;  }
/*MT6139E*/
/*MT6139E*/    /* evaluate the real gain setting */
/*MT6139E*/    agcptr = AGC_TABLE[rf_band];
/*MT6139E*/    if( request_gain < agcptr->pos_gain )
/*MT6139E*/    {  agcptr++;
/*MT6139E*/    }
/*MT6139E*/    {  bit_no    = BIT_NO( request_gain, agcptr->A, GC_B );
/*MT6139E*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B );
/*MT6139E*/       setting   = agcptr->setting + (bit_no<<4);
/*MT6139E*/    }
/*MT6139E*/
/*MT6139E*/    *gain_setting = setting;
/*MT6139E*/    return( real_gain );
/*MT6139E*/ }
/*MT6139E*/
#endif

#if IS_RF_MT6140A
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6140B
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6140C
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MT6140D
/*MT6140D*/
/*MT6140D*/ #define  GAIN_STEP               2
/*MT6140D*/ #define  PVOFSL                 34
/*MT6140D*/ #define  PVOFSH                 34
/*MT6140D*/ #define  RF_GSM850_MAXGAIN      (( 90-PVOFSL )*(PWRRES))
/*MT6140D*/ #define  RF_GSM850_MINGAIN      ((  6-PVOFSL )*(PWRRES))
/*MT6140D*/ #define  RF_GSM_MAXGAIN         (( 90-PVOFSL )*(PWRRES))
/*MT6140D*/ #define  RF_GSM_MINGAIN         ((  6-PVOFSL )*(PWRRES))
/*MT6140D*/ #define  RF_DCS_MAXGAIN         (( 88-PVOFSH )*(PWRRES))
/*MT6140D*/ #define  RF_DCS_MINGAIN         ((  2-PVOFSH )*(PWRRES))
/*MT6140D*/ #define  RF_PCS_MAXGAIN         (( 88-PVOFSH )*(PWRRES))
/*MT6140D*/ #define  RF_PCS_MINGAIN         ((  2-PVOFSH )*(PWRRES))
/*MT6140D*/
/*MT6140D*/ /* GSM850....................................................................*/
/*MT6140D*/
/*MT6140D*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*MT6140D*/ {  {  GBOUND(( 30-PVOFSL ),( 28-PVOFSL ) ), GC_A( 0,( 30-PVOFSL ) ), 0x000202 },
/*MT6140D*/    {  GBOUND((  4-PVOFSL ),(  4-PVOFSL ) ), GC_A( 5,(  4-PVOFSL ) ), 0x000002 },
/*MT6140D*/ };
/*MT6140D*/
/*MT6140D*/ /* GSM900....................................................................*/
/*MT6140D*/
/*MT6140D*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*MT6140D*/ {  {  GBOUND(( 30-PVOFSL ),( 28-PVOFSL ) ), GC_A( 0,( 30-PVOFSL ) ), 0x000202 },
/*MT6140D*/    {  GBOUND((  4-PVOFSL ),(  4-PVOFSL ) ), GC_A( 5,(  4-PVOFSL ) ), 0x000002 },
/*MT6140D*/ };
/*MT6140D*/
/*MT6140D*/ /* DCS1800...................................................................*/
/*MT6140D*/
/*MT6140D*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2] =
/*MT6140D*/ {  {  GBOUND(( 28-PVOFSH ),( 26-PVOFSH ) ), GC_A( 0,( 28-PVOFSH ) ), 0x000202 },
/*MT6140D*/    {  GBOUND((  2-PVOFSH ),(  2-PVOFSH ) ), GC_A( 6,(  2-PVOFSH ) ), 0x000002 },
/*MT6140D*/ };
/*MT6140D*/
/*MT6140D*/ /* PCS1900...................................................................*/
/*MT6140D*/
/*MT6140D*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2] =
/*MT6140D*/ {  {  GBOUND(( 28-PVOFSH ),( 26-PVOFSH ) ), GC_A( 0,( 28-PVOFSH ) ), 0x000202 },
/*MT6140D*/    {  GBOUND((  2-PVOFSH ),(  2-PVOFSH ) ), GC_A( 6,(  2-PVOFSH ) ), 0x000002 },
/*MT6140D*/ };
/*MT6140D*/
/*MT6140D*/ /*...........................................................................*/
/*MT6140D*/
/*MT6140D*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MT6140D*/ {  {                   0,                      0    }, /*#FrequencyBand400  */
/*MT6140D*/    { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MT6140D*/    { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MT6140D*/    { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MT6140D*/    { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MT6140D*/ };
/*MT6140D*/
/*MT6140D*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MT6140D*/ {  0,                                              /*#FrequencyBand400  */
/*MT6140D*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*MT6140D*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*MT6140D*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*MT6140D*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*MT6140D*/ };
/*MT6140D*/
/*MT6140D*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6140D*/
/*MT6140D*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6140D*/ {  int   max_gain, min_gain, real_gain;
/*MT6140D*/    const int*    d32ptr;
/*MT6140D*/    const sL1DAGCDATA*  agcptr;
/*MT6140D*/    long  setting;
/*MT6140D*/    int   bit_no;
/*MT6140D*/
/*MT6140D*/    /* evaluate the range of available gain */
/*MT6140D*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MT6140D*/    max_gain = *d32ptr++;
/*MT6140D*/    min_gain = *d32ptr;
/*MT6140D*/
/*MT6140D*/    /* clipping the request gain to the avialable gain */
/*MT6140D*/    if( request_gain>=max_gain )
/*MT6140D*/    {  request_gain = max_gain;  }
/*MT6140D*/    else  if( request_gain<=min_gain )
/*MT6140D*/    {  request_gain = min_gain;  }
/*MT6140D*/
/*MT6140D*/    /* evaluate the real gain setting */
/*MT6140D*/    agcptr = AGC_TABLE[rf_band];
/*MT6140D*/    if( request_gain < agcptr->pos_gain )
/*MT6140D*/    {  agcptr++;
/*MT6140D*/    }
/*MT6140D*/    {  bit_no    = BIT_NO( request_gain, agcptr->A, GC_B );
/*MT6140D*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B );
/*MT6140D*/       setting   = agcptr->setting + (bit_no<<4);
/*MT6140D*/    }
/*MT6140D*/
/*MT6140D*/    *gain_setting = setting;
/*MT6140D*/    return( real_gain );
/*MT6140D*/ }
/*MT6140D*/
#endif

#if IS_RF_CMOSEDGE
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MTKSOC1T
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_MTKSOC1
/*MTKSOC1*/
/*MTKSOC1*/ #define  GAIN_STEP               2
/*MTKSOC1*/ #define  PVOFSL                  39
/*MTKSOC1*/ #define  PVOFSH                  39
/*MTKSOC1*/ #define  RF_GSM850_MAXGAIN      (( 94-PVOFSL )*(PWRRES))
/*MTKSOC1*/ #define  RF_GSM850_MINGAIN      (( 14-PVOFSL )*(PWRRES))
/*MTKSOC1*/ #define  RF_GSM_MAXGAIN         (( 94-PVOFSL )*(PWRRES))
/*MTKSOC1*/ #define  RF_GSM_MINGAIN         (( 14-PVOFSL )*(PWRRES))
/*MTKSOC1*/ #define  RF_DCS_MAXGAIN         (( 94-PVOFSH )*(PWRRES))
/*MTKSOC1*/ #define  RF_DCS_MINGAIN         (( 14-PVOFSH )*(PWRRES))
/*MTKSOC1*/ #define  RF_PCS_MAXGAIN         (( 94-PVOFSH )*(PWRRES))
/*MTKSOC1*/ #define  RF_PCS_MINGAIN         (( 14-PVOFSH )*(PWRRES))
/*MTKSOC1*/
/*MTKSOC1*/ /* GSM850....................................................................*/
/*MTKSOC1*/
/*MTKSOC1*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*MTKSOC1*/ {  {  GBOUND(( 40-PVOFSL ),( 38-PVOFSL ) ), GC_A(  0,( 40-PVOFSL ) ), 0x0400020 },
/*MTKSOC1*/    {  GBOUND(( 14-PVOFSL ),( 14-PVOFSL ) ), GC_A(  0,( 14-PVOFSL ) ), 0x0400000 },
/*MTKSOC1*/ };
/*MTKSOC1*/
/*MTKSOC1*/ /* GSM900....................................................................*/
/*MTKSOC1*/
/*MTKSOC1*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*MTKSOC1*/ {  {  GBOUND(( 40-PVOFSL ),( 38-PVOFSL ) ), GC_A(  0,( 40-PVOFSL ) ), 0x0400020 },
/*MTKSOC1*/    {  GBOUND(( 14-PVOFSL ),( 14-PVOFSL ) ), GC_A(  0,( 14-PVOFSL ) ), 0x0400000 },
/*MTKSOC1*/ };
/*MTKSOC1*/
/*MTKSOC1*/ /* DCS1800...................................................................*/
/*MTKSOC1*/
/*MTKSOC1*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2] =
/*MTKSOC1*/ {  {  GBOUND(( 40-PVOFSL ),( 38-PVOFSL ) ), GC_A(  0,( 40-PVOFSL ) ), 0x0400020 },
/*MTKSOC1*/    {  GBOUND(( 14-PVOFSL ),( 14-PVOFSL ) ), GC_A(  0,( 14-PVOFSL ) ), 0x0400000 },
/*MTKSOC1*/ };
/*MTKSOC1*/
/*MTKSOC1*/ /* PCS1900...................................................................*/
/*MTKSOC1*/
/*MTKSOC1*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2] =
/*MTKSOC1*/ {  {  GBOUND(( 40-PVOFSL ),( 38-PVOFSL ) ), GC_A(  0,( 40-PVOFSL ) ), 0x0400020 },
/*MTKSOC1*/    {  GBOUND(( 14-PVOFSL ),( 14-PVOFSL ) ), GC_A(  0,( 14-PVOFSL ) ), 0x0400000 },
/*MTKSOC1*/ };
/*MTKSOC1*/
/*MTKSOC1*/ /*...........................................................................*/
/*MTKSOC1*/
/*MTKSOC1*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MTKSOC1*/ {  {                   0,                      0    }, /*#FrequencyBand400  */
/*MTKSOC1*/    { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MTKSOC1*/    { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MTKSOC1*/    { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MTKSOC1*/    { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MTKSOC1*/ };
/*MTKSOC1*/
/*MTKSOC1*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MTKSOC1*/ {  0,                                              /*#FrequencyBand400  */
/*MTKSOC1*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*MTKSOC1*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*MTKSOC1*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*MTKSOC1*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*MTKSOC1*/ };
/*MTKSOC1*/
/*MTKSOC1*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MTKSOC1*/
/*MTKSOC1*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MTKSOC1*/ {  int   max_gain, min_gain, real_gain;
/*MTKSOC1*/    const int*    d32ptr;
/*MTKSOC1*/    const sL1DAGCDATA*  agcptr;
/*MTKSOC1*/    long  setting;
/*MTKSOC1*/    int   bit_no;
/*MTKSOC1*/
/*MTKSOC1*/    /* evaluate the range of available gain */
/*MTKSOC1*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MTKSOC1*/    max_gain = *d32ptr++;
/*MTKSOC1*/    min_gain = *d32ptr;
/*MTKSOC1*/
/*MTKSOC1*/    /* clipping the request gain to the avialable gain */
/*MTKSOC1*/    if( request_gain>=max_gain )
/*MTKSOC1*/    {  request_gain = max_gain;  }
/*MTKSOC1*/    else  if( request_gain<=min_gain )
/*MTKSOC1*/    {  request_gain = min_gain;  }
/*MTKSOC1*/
/*MTKSOC1*/    /* evaluate the real gain setting */
/*MTKSOC1*/    agcptr = AGC_TABLE[rf_band];
/*MTKSOC1*/    if( request_gain < agcptr->pos_gain )
/*MTKSOC1*/    {  agcptr++;
/*MTKSOC1*/    }
/*MTKSOC1*/    {  bit_no    = BIT_NO( request_gain, agcptr->A, GC_B );
/*MTKSOC1*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B );
/*MTKSOC1*/       setting   = agcptr->setting + bit_no;
/*MTKSOC1*/    }
/*MTKSOC1*/
/*MTKSOC1*/    *gain_setting = setting;
/*MTKSOC1*/    return( real_gain );
/*MTKSOC1*/ }
/*MTKSOC1*/
#endif

#if IS_RF_MT6252RF
/*MT6252RF*/
/*MT6252RF*/ #define  GAIN_STEP               2
/*MT6252RF*/ #define  PVOFSL                  39
/*MT6252RF*/ #define  PVOFSH                  39
/*MT6252RF*/ #define  RF_GSM850_MAXGAIN      (( 96-PVOFSL )*(PWRRES))
/*MT6252RF*/ #define  RF_GSM850_MINGAIN      (( 16-PVOFSL )*(PWRRES))
/*MT6252RF*/ #define  RF_GSM_MAXGAIN         (( 96-PVOFSL )*(PWRRES))
/*MT6252RF*/ #define  RF_GSM_MINGAIN         (( 16-PVOFSL )*(PWRRES))
/*MT6252RF*/ #define  RF_DCS_MAXGAIN         (( 96-PVOFSH )*(PWRRES))
/*MT6252RF*/ #define  RF_DCS_MINGAIN         (( 16-PVOFSH )*(PWRRES))
/*MT6252RF*/ #define  RF_PCS_MAXGAIN         (( 96-PVOFSH )*(PWRRES))
/*MT6252RF*/ #define  RF_PCS_MINGAIN         (( 16-PVOFSH )*(PWRRES))
/*MT6252RF*/
/*MT6252RF*/ /* GSM850....................................................................*/
/*MT6252RF*/
/*MT6252RF*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*MT6252RF*/ {  {  GBOUND(( 42-PVOFSL ),( 40-PVOFSL ) ), GC_A( 0, ( 42-PVOFSL ) ), 0x6000020 },
/*MT6252RF*/    {  GBOUND(( 16-PVOFSL ),( 16-PVOFSL ) ), GC_A( 0, ( 16-PVOFSL ) ), 0x6000000 },
/*MT6252RF*/ };
/*MT6252RF*/
/*MT6252RF*/ /* GSM900....................................................................*/
/*MT6252RF*/
/*MT6252RF*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*MT6252RF*/ {  {  GBOUND(( 42-PVOFSL ),( 40-PVOFSL ) ), GC_A( 0, ( 42-PVOFSL ) ), 0x6000020 },
/*MT6252RF*/    {  GBOUND(( 16-PVOFSL ),( 16-PVOFSL ) ), GC_A( 0, ( 16-PVOFSL ) ), 0x6000000 },
/*MT6252RF*/ };
/*MT6252RF*/
/*MT6252RF*/ /* DCS1800...................................................................*/
/*MT6252RF*/
/*MT6252RF*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2] =
/*MT6252RF*/ {  {  GBOUND(( 42-PVOFSL ),( 40-PVOFSL ) ), GC_A( 0, ( 42-PVOFSL ) ), 0x6000020 },
/*MT6252RF*/    {  GBOUND(( 16-PVOFSL ),( 16-PVOFSL ) ), GC_A( 0, ( 16-PVOFSL ) ), 0x6000000 },
/*MT6252RF*/ };
/*MT6252RF*/
/*MT6252RF*/ /* PCS1900...................................................................*/
/*MT6252RF*/
/*MT6252RF*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2] =
/*MT6252RF*/ {  {  GBOUND(( 42-PVOFSL ),( 40-PVOFSL ) ), GC_A( 0, ( 42-PVOFSL ) ), 0x6000020 },
/*MT6252RF*/    {  GBOUND(( 16-PVOFSL ),( 16-PVOFSL ) ), GC_A( 0, ( 16-PVOFSL ) ), 0x6000000 },
/*MT6252RF*/ };
/*MT6252RF*/
/*MT6252RF*/ /*...........................................................................*/
/*MT6252RF*/
/*MT6252RF*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MT6252RF*/ {  {                   0,                      0    }, /* FrequencyBand400  */
/*MT6252RF*/    { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MT6252RF*/    { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MT6252RF*/    { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MT6252RF*/    { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MT6252RF*/ };
/*MT6252RF*/
/*MT6252RF*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MT6252RF*/ {  0,                                                  /* FrequencyBand400  */
/*MT6252RF*/    AGC_TABLE_GSM850,                                   /* FrequencyBand850  */
/*MT6252RF*/    AGC_TABLE_GSM900,                                   /* FrequencyBand900  */
/*MT6252RF*/    AGC_TABLE_DCS1800,                                  /* FrequencyBand1800 */
/*MT6252RF*/    AGC_TABLE_PCS1900,                                  /* FrequencyBand1900 */
/*MT6252RF*/ };
/*MT6252RF*/
/*MT6252RF*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6252RF*/
/*MT6252RF*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6252RF*/ {  int   max_gain, min_gain, real_gain;
/*MT6252RF*/    const int*    d32ptr;
/*MT6252RF*/    const sL1DAGCDATA*  agcptr;
/*MT6252RF*/    long  setting;
/*MT6252RF*/    int   bit_no;
/*MT6252RF*/
/*MT6252RF*/    /* evaluate the range of available gain */
/*MT6252RF*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MT6252RF*/    max_gain = *d32ptr++;
/*MT6252RF*/    min_gain = *d32ptr;
/*MT6252RF*/
/*MT6252RF*/    /* clipping the request gain to the avialable gain */
/*MT6252RF*/    if( request_gain>=max_gain )
/*MT6252RF*/    {  request_gain = max_gain;  }
/*MT6252RF*/    else  if( request_gain<=min_gain )
/*MT6252RF*/    {  request_gain = min_gain;  }
/*MT6252RF*/
/*MT6252RF*/    /* evaluate the real gain setting */
/*MT6252RF*/    agcptr = AGC_TABLE[rf_band];
/*MT6252RF*/    if( request_gain < agcptr->pos_gain )
/*MT6252RF*/    {  agcptr++;
/*MT6252RF*/    }
/*MT6252RF*/    {  bit_no    = BIT_NO( request_gain, agcptr->A, GC_B );
/*MT6252RF*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B );
/*MT6252RF*/       setting   = agcptr->setting + bit_no;
/*MT6252RF*/    }
/*MT6252RF*/
/*MT6252RF*/    *gain_setting = setting;
/*MT6252RF*/    return( real_gain );
/*MT6252RF*/ }
/*MT6252RF*/
#endif

#if IS_RF_MT6261RF
/*MT6261RF*/ #define PVOFS                       34  /* voltage gain(total gain) - PVOFS = power gain   */
/*MT6261RF*/ #define MAX_GAIN_STEP                6  /* (sizeof(GAIN_TABLE[0])/sizeof(char))-1   */
/*MT6261RF*/
/*MT6261RF*/ #define RX_GC_CW_LSB                12
/*MT6261RF*/ #define RX_GC_CW_MASK                (0xFF<<RX_GC_CW_LSB)
/*MT6261RF*/ #define L1_IBB4_FLAG_CW_LSB         11
/*MT6261RF*/ #define L1_IBB4_FLAG_CW_MASK         (0x1<<L1_IBB4_FLAG_CW_LSB)
/*MT6261RF*/ #define RX_LNA_CUR_HB_CW_LSB         7
/*MT6261RF*/ #define RX_LNA_CUR_HB_CW_MASK        (0xF<<RX_LNA_CUR_HB_CW_LSB)
/*MT6261RF*/ #define RX_LNA_CUR_LB_CW_LSB         3
/*MT6261RF*/ #define RX_LNA_CUR_LB_CW_MASK        (0xF<<RX_LNA_CUR_LB_CW_LSB)
/*MT6261RF*/ #define RX_LNA_WARMUP_EN_CW_LSB      2
/*MT6261RF*/ #define RX_LNA_WARMUP_EN_CW_MASK     (0x1<<RX_LNA_WARMUP_EN_CW_LSB)
/*MT6261RF*/ #define RX_RG_RXLPF_LPEN_CW_LSB      1
/*MT6261RF*/ #define RX_RG_RXLPF_LPEN_CW_MASK     (0x1<<RX_RG_RXLPF_LPEN_CW_LSB)
/*MT6261RF*/
/*MT6261RF*/ #define RXDIV_LDO_HB_CW_LSB          9 
/*MT6261RF*/ #define RXDIV_LDO_HB_CW_MASK         (0xF<<RXDIV_LDO_HB_CW_LSB)
/*MT6261RF*/ #define RXDIV_LDO_LB_CW_LSB          5
/*MT6261RF*/ #define RXDIV_LDO_LB_CW_MASK         (0xF<<RXDIV_LDO_LB_CW_LSB)
/*MT6261RF*/
/*MT6261RF*/ #define NORMAL_GAIN_TABLE_FLAG       0
/*MT6261RF*/ #define IBB_GAIN_TABLE_FLAG          1
/*MT6261RF*/ #define HRD_GAIN_TABLE_FLAG          2
/*MT6261RF*/
/*MT6261RF*/ const  unsigned char  INSERTION_LOSS_TABLE[5] =
/*MT6261RF*/ {     /* Insertion loss                     */
/*MT6261RF*/    0, /* for GSM 400: no support            */
/*MT6261RF*/   11, /* for GSM 850: 11 = 1.375dB * PWRRES */
/*MT6261RF*/   11, /* for GSM 900: 11 = 1.375dB * PWRRES */
/*MT6261RF*/   14, /* for DCS1800: 14 = 1.75 dB * PWRRES */
/*MT6261RF*/   14, /* for PcS1900: 14 = 1.75 dB * PWRRES */
/*MT6261RF*/ };
/*MT6261RF*/
   #if IS_RX_G2_HIGH_GAIN_MODE_DE_FEATURE_SAWLESS
/*MT6261RF*/ /* Duo to RF desinger may provide non-interger voltage gain value,so using hard code setting */
/*MT6261RF*/ /* GAIN_TABLE: (voltage gain-PVOFS)*PWRRES */
/*MT6261RF*/ const short GAIN_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =/*  */
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {   156,  156,   41,   -7,  -64, -112, -159 }, /* LowBand (VOLTAGE_GAIN), 53.500, 53.500, 39.125, 33.125, 26.000, 20.000, 14.125 */
/*MT6261RF*/    {   154,  154,   55,    7,  -71, -118, -166 }, /* HighBand(VOLTAGE_GAIN), 53.250, 53.250, 40.875, 34.875, 25.125, 19.250, 13.250*/
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_GC_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {  0xFA, 0xFA, 0xDD, 0xDC, 0x0A, 0x09, 0x08 }, /* LowBand   CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/    {  0xFA, 0xFA, 0xD5, 0xD4, 0x0A, 0x09, 0x08 }, /* HighBand  CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_LNA_CUR_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     7,    7,    4,    4,    3,    3,    3 }, /* LowBand   CW96[10: 7] RX_LNA_CUR_LB[3:0] */
/*MT6261RF*/    {     7,    7,    6,    6,    3,    3,    3 }, /* HighBand  CW96[ 6: 3] RX_LNA_CUR_HB[3:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RG_RXLPF_LPEN_TABLE_NORMAL[2][MAX_GAIN_STEP+1] = 
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* LowBand   CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* HighBand  CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RXDIV_LDO_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     4,    4,    7,    7,    4,    4,    4 }, /* LowBand   CW98[ 8 : 5] RXDIV_LDO_LB[3:0] */
/*MT6261RF*/    {     4,    4,    7,    7,    4,    4,    4 }, /* HighBand  CW98[12 : 9] RXDIV_LDO_HB[3:0] */
/*MT6261RF*/ };
   #else
/*MT6261RF*/ /* Duo to RF desinger may provide non-interger voltage gain value,so using hard code setting */
/*MT6261RF*/ /* GAIN_TABLE: (voltage gain-PVOFS)*PWRRES */
/*MT6261RF*/ const short GAIN_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =/*  */
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {   156,   88,   41,   -7,  -64, -112, -159 }, /* LowBand (VOLTAGE_GAIN), 53.500, 45.000, 39.125, 33.125, 26.000, 20.000, 14.125 */
/*MT6261RF*/    {   154,  102,   55,    7,  -71, -118, -166 }, /* HighBand(VOLTAGE_GAIN), 53.250, 46.750, 40.875, 34.875, 25.125, 19.250, 13.250*/
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_GC_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {  0xFA, 0xDE, 0xDD, 0xDC, 0x0A, 0x09, 0x08 }, /* LowBand   CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/    {  0xFA, 0xD6, 0xD5, 0xD4, 0x0A, 0x09, 0x08 }, /* HighBand  CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_LNA_CUR_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     7,    4,    4,    4,    3,    3,    3 }, /* LowBand   CW96[10: 7] RX_LNA_CUR_LB[3:0] */
/*MT6261RF*/    {     7,    6,    6,    6,    3,    3,    3 }, /* HighBand  CW96[ 6: 3] RX_LNA_CUR_HB[3:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RG_RXLPF_LPEN_TABLE_NORMAL[2][MAX_GAIN_STEP+1] = 
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* LowBand   CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* HighBand  CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RXDIV_LDO_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     4,    7,    7,    7,    4,    4,    4 }, /* LowBand   CW98[ 8 : 5] RXDIV_LDO_LB[3:0] */
/*MT6261RF*/    {     4,    7,    7,    7,    4,    4,    4 }, /* HighBand  CW98[12 : 9] RXDIV_LDO_HB[3:0] */
/*MT6261RF*/ };
/*MT6261RF*/
   #endif
   #if IS_INBAND_BLOCKER_RX_GAIN_TABLE_SUPPORT
/*MT6261RF*/ /* Duo to RF desinger may provide non-interger voltage gain value,so using hard code setting */
/*MT6261RF*/ /* GAIN_TABLE: (voltage gain-PVOFS)*PWRRES */
/*MT6261RF*/ const short GAIN_TABLE_IBB[2][MAX_GAIN_STEP+1] =/* (VOLTAGE_GAIN-PVOFS)*PWRRES */
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {   168,   96,   48,    0,  -64, -112, -160 }, /* LowBand (VOLTAGE_GAIN), 55, 46, 40, 34, 26, 20, 14 */
/*MT6261RF*/    {   168,   96,   48,    0,  -64, -112, -160 }, /* HighBand(VOLTAGE_GAIN), 55, 46, 40, 34, 26, 20, 14 */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_GC_TABLE_IBB[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {  0xFA, 0xD6, 0xD5, 0xD4, 0x0A, 0x09, 0x08 }, /* LowBand   CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/    {  0xFA, 0xD6, 0xD5, 0xD4, 0x0A, 0x09, 0x08 }, /* HighBand  CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_LNA_CUR_TABLE_IBB[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     6,    5,    5,    5,    3,    3,    3 }, /* LowBand   CW96[10: 7] RX_LNA_CUR_LB[3:0] */
/*MT6261RF*/    {     7,    6,    6,    6,    3,    3,    3 }, /* HighBand  CW96[ 6: 3] RX_LNA_CUR_HB[3:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RG_RXLPF_LPEN_TABLE_IBB[2][MAX_GAIN_STEP+1] = 
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* LowBand   CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* HighBand  CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_VCMFB_SEL_TABLE_IBB[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     3,    3,    3,    3,    3,    3,    3 }, /* LowBand   CW97[16:14] RX_VCMFB_SEL_LB[2:0] */
/*MT6261RF*/    {     3,    3,    3,    3,    3,    3,    3 }, /* HighBand  CW97[19:17] RX_VCMFB_SEL_HB[2:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RXMIX_SW_BIAS_TABLE_IBB[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     4,    4,    4,    4,    4,    4,    4 }, /* LowBand   CW97[10: 8] RXMIX_SW_BIAS_LB[2:0] */
/*MT6261RF*/    {     4,    4,    4,    4,    4,    4,    4 }, /* HighBand  CW97[13:11] RXMIX_SW_BIAS_HB[2:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RXDIV_LDO_TABLE_IBB[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     4,    5,    5,    5,    4,    4,    4 }, /* LowBand   CW98[ 8 : 5] RXDIV_LDO_LB[3:0] */
/*MT6261RF*/    {     4,    7,    7,    7,    4,    4,    4 }, /* HighBand  CW98[12 : 9] RXDIV_LDO_HB[3:0] */
/*MT6261RF*/ };
/*MT6261RF*/
   #endif
   #if IS_HEADROOM_RX_GAIN_TABLE_SUPPORT
/*MT6261RF*/ /* Duo to RF desinger may provide non-interger voltage gain value,so using hard code setting */
/*MT6261RF*/ /* GAIN_TABLE: (voltage gain-PVOFS)*PWRRES */
/*MT6261RF*/ const short GAIN_TABLE_HRD[2][MAX_GAIN_STEP+1] = /* (VOLTAGE_GAIN-PVOFS)*PWRRES */
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {   168,   96,   48,    0,  -64, -112, -160 }, /* LowBand (VOLTAGE_GAIN), 55, 46, 40, 34, 26, 20, 14 */
/*MT6261RF*/    {   168,   96,   48,    0,  -64, -112, -160 }, /* HighBand(VOLTAGE_GAIN), 55, 46, 40, 34, 26, 20, 14 */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_GC_TABLE_HRD[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {  0xFA, 0xD6, 0xD5, 0xD4, 0x0A, 0x09, 0x08 }, /* LowBand   CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/    {  0xFA, 0xD6, 0xD5, 0xD4, 0x0A, 0x09, 0x08 }, /* HighBand  CW96[19:12] RX_GC[7:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_LNA_CUR_TABLE_HRD[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     6,    5,    5,    5,    3,    3,    3 }, /* LowBand   CW96[10: 7] RX_LNA_CUR_LB[3:0] */
/*MT6261RF*/    {     7,    6,    6,    6,    3,    3,    3 }, /* HighBand  CW96[ 6: 3] RX_LNA_CUR_HB[3:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RG_RXLPF_LPEN_TABLE_HRD[2][MAX_GAIN_STEP+1] = 
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* LowBand   CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/    {     1,    1,    0,    0,    1,    0,    0 }, /* HighBand  CW96[1] RG_RXLPF_LPEN */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RX_VCMFB_SEL_TABLE_HRD[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     3,    3,    3,    3,    3,    3,    3 }, /* LowBand   CW97[16:14] RX_VCMFB_SEL_LB[2:0] */
/*MT6261RF*/    {     3,    3,    3,    3,    3,    3,    3 }, /* HighBand  CW97[19:17] RX_VCMFB_SEL_HB[2:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RXMIX_SW_BIAS_TABLE_HRD[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     4,    4,    4,    4,    4,    4,    4 }, /* LowBand   CW97[10: 8] RXMIX_SW_BIAS_LB[2:0] */
/*MT6261RF*/    {     4,    4,    4,    4,    4,    4,    4 }, /* HighBand  CW97[13:11] RXMIX_SW_BIAS_HB[2:0] */
/*MT6261RF*/ };
/*MT6261RF*/ const  unsigned char  GAIN_SETTING_RXDIV_LDO_TABLE_HRD[2][MAX_GAIN_STEP+1] =
/*MT6261RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6261RF*/    {     4,    5,    5,    5,    4,    4,    4 }, /* LowBand   CW98[ 8 : 5] RXDIV_LDO_LB[3:0] */
/*MT6261RF*/    {     4,    7,    7,    7,    4,    4,    4 }, /* HighBand  CW98[12 : 9] RXDIV_LDO_HB[3:0] */
/*MT6261RF*/ };
/*MT6261RF*/
   #endif
/*MT6261RF*/
/*MT6261RF*/ #define GET_POWER_GAIN(v)              (v)
/*MT6261RF*/ #define  GET_GAINCW_BANDMODE(g)        ((g&RX_LNA_CUR_HB_CW_MASK)>>RX_LNA_CUR_HB_CW_LSB)
/*MT6261RF*/ #define  GET_GAINCW_GAINSTEP(g)        ((g&RX_LNA_CUR_LB_CW_MASK)>>RX_LNA_CUR_LB_CW_LSB)
/*MT6261RF*/ #define  GET_GAINCW_GAINTABLE(g)       ((g&0xFF0000000L)>>28)
/*MT6261RF*/                     
/*MT6261RF*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6261RF*/
/*MT6261RF*/ int L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6261RF*/ {  int           band_mode, real_gain, gain_step, insertion_loss, gain_table, blk_flag = 0;
/*MT6261RF*/    unsigned int  l1_ibb4_flag=0, rx_lpf_en, lna_cur, rx_gc, gain_inform ;
/*MT6261RF*/
/*MT6261RF*/    band_mode      = (rf_band < FrequencyBand1800) ? 0 /* LowBand */ : 1 /* HighBand */;
/*MT6261RF*/    insertion_loss = INSERTION_LOSS_TABLE[rf_band];
/*MT6261RF*/ #if IS_INBAND_BLOCKER_DETECTION_SUPPORT
/*MT6261RF*/    blk_flag       = l1d_rf.blk_flag;
/*MT6261RF*/ #endif
/*MT6261RF*/
/*MT6261RF*/    /* Clipping the request gain to the avialable gain. */
/*MT6261RF*/    for( gain_step = MAX_GAIN_STEP; gain_step >= 0; gain_step-- )
/*MT6261RF*/    {  if( request_gain <= GET_POWER_GAIN( GAIN_TABLE_NORMAL[band_mode][gain_step] ))
/*MT6261RF*/       {  break;  }       
/*MT6261RF*/    }
/*MT6261RF*/    if( gain_step < 0 ) gain_step = 0;
/*MT6261RF*/
/*MT6261RF*/    if( 0 )
/*MT6261RF*/    { /* do nothing */ }
#if IS_INBAND_BLOCKER_RX_GAIN_TABLE_SUPPORT
/*MT6261RF*/    else if(blk_flag & IBB_FOUND) /* IBB Gain Table */
/*MT6261RF*/    {  /* Recorde used gain table */
/*MT6261RF*/       gain_table    = IBB_GAIN_TABLE_FLAG;  
/*MT6261RF*/
/*MT6261RF*/       /* Evaluate the real gain gain_inform. */
/*MT6261RF*/       real_gain     = GET_POWER_GAIN( GAIN_TABLE_IBB[band_mode][gain_step] ) - insertion_loss; 
/*MT6261RF*/       rx_gc         = GAIN_SETTING_RX_GC_TABLE_IBB[band_mode][gain_step];
/*MT6261RF*/
/*MT6261RF*/       /* Collect CW96 setting */
/*MT6261RF*/       l1_ibb4_flag  = (blk_flag & IBB_FOUND) ? 1 : 0;
/*MT6261RF*/       rx_lpf_en     = GAIN_SETTING_RG_RXLPF_LPEN_TABLE_IBB[band_mode][gain_step];
/*MT6261RF*/    }
#endif
#if IS_HEADROOM_RX_GAIN_TABLE_SUPPORT
/*MT6261RF*/    else if( blk_flag & HRD_FOUND ) /* HRD Gain Table */
/*MT6261RF*/    {  /* Recorde used gain table */
/*MT6261RF*/       gain_table    = HRD_GAIN_TABLE_FLAG;  
/*MT6261RF*/
/*MT6261RF*/       /* Evaluate the real gain gain_inform. */
/*MT6261RF*/       real_gain     = GET_POWER_GAIN( GAIN_TABLE_HRD[band_mode][gain_step] ) - insertion_loss; 
/*MT6261RF*/       rx_gc         = GAIN_SETTING_RX_GC_TABLE_HRD[band_mode][gain_step];
/*MT6261RF*/
/*MT6261RF*/       /* Collect CW96 setting */
/*MT6261RF*/       l1_ibb4_flag  = (blk_flag & IBB_FOUND) ? 1 : 0;
/*MT6261RF*/       rx_lpf_en     = GAIN_SETTING_RG_RXLPF_LPEN_TABLE_HRD[band_mode][gain_step];
/*MT6261RF*/    }
#endif
/*MT6261RF*/    else /* Normal Gain Table */
/*MT6261RF*/    {  /* Recorde used gain table */
/*MT6261RF*/       gain_table    = NORMAL_GAIN_TABLE_FLAG;
/*MT6261RF*/
/*MT6261RF*/       /* Evaluate the real gain gain_inform. */
/*MT6261RF*/       real_gain     = GET_POWER_GAIN( GAIN_TABLE_NORMAL[band_mode][gain_step] ) - insertion_loss; 
/*MT6261RF*/       rx_gc         = GAIN_SETTING_RX_GC_TABLE_NORMAL[band_mode][gain_step];
/*MT6261RF*/
/*MT6261RF*/       /* Collect CW96 setting */
/*MT6261RF*/       l1_ibb4_flag  = (blk_flag & IBB_FOUND) ? 1 : 0;
/*MT6261RF*/       rx_lpf_en     = GAIN_SETTING_RG_RXLPF_LPEN_TABLE_NORMAL[band_mode][gain_step];
/*MT6261RF*/    }
/*MT6261RF*/    /* Recode Gain Step and Band Mode for SR2 using */   
/*MT6261RF*/    lna_cur          = (band_mode<<RX_LNA_CUR_HB_CW_LSB)|(gain_step<<RX_LNA_CUR_LB_CW_LSB);
/*MT6261RF*/
/*MT6261RF*/    /* gain_inform : Using [31:28] to carry gain table information             */
/*MT6261RF*/    /* gain_inform : Using [10: 3] to carry bandmode and gain step information */
/*MT6261RF*/    gain_inform     = (rx_gc<<RX_GC_CW_LSB) 
/*MT6261RF*/                     | (l1_ibb4_flag<<L1_IBB4_FLAG_CW_LSB) 
/*MT6261RF*/                     | (lna_cur)
/*MT6261RF*/                     | ((POR_CW96&RX_LNA_WARMUP_EN_CW_MASK)<<RX_LNA_WARMUP_EN_CW_LSB) 
/*MT6261RF*/                     | ((rx_lpf_en<<RX_RG_RXLPF_LPEN_CW_LSB)&RX_RG_RXLPF_LPEN_CW_MASK) ; 
/*MT6261RF*/
/*MT6261RF*/    *gain_setting    = BSI_CW(96, gain_inform)|((gain_table&0xFF)<<28); 
/*MT6261RF*/
/*MT6261RF*/    return( real_gain );
/*MT6261RF*/ }
/*MT6261RF*/
   #if IS_W_CANCELLATION_SUPPORT
/*MT6261RF*/ unsigned short   L1D_RF_FindGainStep( unsigned long gain_setting, FrequencyBand rf_band )
/*MT6261RF*/ {
/*MT6261RF*/     int           band_mode, gain_step;
/*MT6261RF*/     unsigned int  gain_table, rx_gc;
/*MT6261RF*/
/*MT6261RF*/     gain_table   = (unsigned int)(gain_setting&0xFF0000000L)>>28; /* Using [31:28] to carry gain table information */
/*MT6261RF*/     band_mode    = (rf_band < FrequencyBand1800) ? 0 /* LowBand */ : 1 /* HighBand */;
/*MT6261RF*/     rx_gc        = (gain_setting&RX_GC_CW_MASK)>>RX_GC_CW_LSB;
/*MT6261RF*/     if (gain_table == NORMAL_GAIN_TABLE_FLAG)
/*MT6261RF*/     {
/*MT6261RF*/        for(gain_step = 0; gain_step <= 3; gain_step++ )
/*MT6261RF*/        {  if( rx_gc == GAIN_SETTING_RX_GC_TABLE_NORMAL[band_mode][gain_step])
/*MT6261RF*/           {  break;  }
/*MT6261RF*/        }
/*MT6261RF*/        if( gain_step > 3 ) gain_step = 4;
/*MT6261RF*/     }
   #if IS_HEADROOM_RX_GAIN_TABLE_SUPPORT
/*MT6261RF*/     else if (gain_table == HRD_GAIN_TABLE_FLAG)
/*MT6261RF*/     {
/*MT6261RF*/        if( rx_gc == GAIN_SETTING_RX_GC_TABLE_HRD[band_mode][0])
/*MT6261RF*/        {  gain_step = 5;  }
/*MT6261RF*/        else
/*MT6261RF*/        {  gain_step = 4;  }
/*MT6261RF*/     }      
   #endif
/*MT6261RF*/     else
/*MT6261RF*/     {  gain_step = 4;  }
/*MT6261RF*/     
/*MT6261RF*/     /* LB step: 0,2,4,6,8,10 */
/*MT6261RF*/     /* HB step: 1,3,5,7,9,11 */
/*MT6261RF*/     gain_step = gain_step * 2 + band_mode;
/*MT6261RF*/     
/*MT6261RF*/     return gain_step;
/*MT6261RF*/ }
/*MT6261RF*/
   #endif
/*MT6261RF*/                     
/*MT6261RF*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6261RF*/
/*MT6261RF*/ void L1D_RF_SR2_GetGainSetting( long agc_data, unsigned long *gain_setting )
/*MT6261RF*/ {  
/*MT6261RF*/    unsigned int  lna_cur=0,rxdiv_ldo=0;
/*MT6261RF*/    unsigned long gain_step   = GET_GAINCW_GAINSTEP(agc_data);
/*MT6261RF*/    unsigned long band_mode   = GET_GAINCW_BANDMODE(agc_data);
/*MT6261RF*/    unsigned long gain_table  = GET_GAINCW_GAINTABLE(agc_data);                                          
/*MT6261RF*/    if( 0 )
/*MT6261RF*/    { /* do nothing */ }
#if IS_INBAND_BLOCKER_RX_GAIN_TABLE_SUPPORT   
/*MT6261RF*/     else if (gain_table == HRD_GAIN_TABLE_FLAG)
/*MT6261RF*/    {
/*MT6261RF*/       /* Collect CW96 setting */
/*MT6261RF*/       lna_cur       = GAIN_SETTING_RX_LNA_CUR_TABLE_IBB[band_mode][gain_step]<<((band_mode==0)? 0 : (RX_LNA_CUR_HB_CW_LSB-RX_LNA_CUR_LB_CW_LSB));
/*MT6261RF*/       /* Collect CW98 setting */
/*MT6261RF*/       rxdiv_ldo     = GAIN_SETTING_RXDIV_LDO_TABLE_IBB[band_mode][gain_step]<<((band_mode==0)? 0 : (RXDIV_LDO_HB_CW_LSB-RXDIV_LDO_LB_CW_LSB));
/*MT6261RF*/    }
#endif
#if IS_HEADROOM_RX_GAIN_TABLE_SUPPORT
/*MT6261RF*/     else if (gain_table == HRD_GAIN_TABLE_FLAG)
/*MT6261RF*/    {
/*MT6261RF*/       /* Collect CW96 setting */
/*MT6261RF*/       lna_cur       = GAIN_SETTING_RX_LNA_CUR_TABLE_HRD[band_mode][gain_step]<<((band_mode==0)? 0 : (RX_LNA_CUR_HB_CW_LSB-RX_LNA_CUR_LB_CW_LSB));
/*MT6261RF*/       /* Collect CW98 setting */
/*MT6261RF*/       rxdiv_ldo     = GAIN_SETTING_RXDIV_LDO_TABLE_HRD[band_mode][gain_step]<<((band_mode==0)? 0 : (RXDIV_LDO_HB_CW_LSB-RXDIV_LDO_LB_CW_LSB));
/*MT6261RF*/    }
#endif
/*MT6261RF*/    else /* Normal Gain Table */
/*MT6261RF*/    {
/*MT6261RF*/       /* Fix unused Warning */
/*MT6261RF*/       gain_table=gain_table; 
/*MT6261RF*/
/*MT6261RF*/       /* Collect CW96 setting */
/*MT6261RF*/       lna_cur       = GAIN_SETTING_RX_LNA_CUR_TABLE_NORMAL[band_mode][gain_step]<<((band_mode==0)? 0 : (RX_LNA_CUR_HB_CW_LSB-RX_LNA_CUR_LB_CW_LSB));
/*MT6261RF*/       /* Collect CW98 setting */
/*MT6261RF*/       rxdiv_ldo     = GAIN_SETTING_RXDIV_LDO_TABLE_NORMAL[band_mode][gain_step]<<((band_mode==0)? 0 : (RXDIV_LDO_HB_CW_LSB-RXDIV_LDO_LB_CW_LSB));
/*MT6261RF*/    }
/*MT6261RF*/    /* Not used band setting keep as POR */
/*MT6261RF*/    lna_cur       = (lna_cur<<RX_LNA_CUR_LB_CW_LSB)         | ((band_mode==0)?(POR_CW96 & RX_LNA_CUR_HB_CW_MASK)    :(POR_CW96 & RX_LNA_CUR_LB_CW_MASK));
/*MT6261RF*/    rxdiv_ldo     = (rxdiv_ldo<<RXDIV_LDO_LB_CW_LSB)        | ((band_mode==0)?(POR_CW98 & RXDIV_LDO_HB_CW_MASK)     :(POR_CW98 & RXDIV_LDO_LB_CW_MASK));
/*MT6261RF*/       
/*MT6261RF*/    *gain_setting = ((agc_data&(~(RX_LNA_CUR_HB_CW_MASK|RX_LNA_CUR_LB_CW_MASK)))| lna_cur );                   /* For Gain Setting     */  
/*MT6261RF*/    gain_setting++;
/*MT6261RF*/    *gain_setting = BSI_CW(98, ((POR_CW98&(~(RXDIV_LDO_HB_CW_MASK|RXDIV_LDO_LB_CW_MASK))) | (rxdiv_ldo)));     /* For Gain Setting     */
/*MT6261RF*/ }
#endif


#if IS_RF_MT6260RF
/*MT6260RF*/ #define PVOFS                       34  /* voltage gain(total gain) - PVOFS = power gain   */
/*MT6260RF*/ #define MAX_GAIN_STEP                6  /* (sizeof(GAIN_TABLE_NORMAL[0])/sizeof(char))-1   */
/*MT6260RF*/ #define MAX_BLK_DROP_GAIN_STEP       3  /* (sizeof(GAIN_TABLE_BLOCKER[0])/sizeof(char))-1  */
/*MT6260RF*/ #define MAX_HRD_DROP_GAIN_STEP       2  /* (sizeof(GAIN_TABLE_HEADROOM[0])/sizeof(char))-1 */
/*MT6260RF*/ #define RFFE_SETTING_CW_LSB          13
/*MT6260RF*/ #define RFFE_SETTING_CW_MASK         (0x7F<<RFFE_SETTING_CW_LSB)
/*MT6260RF*/ #define RFIF_SETTING_CW_LSB          11
/*MT6260RF*/ #define RFIF_SETTING_CW_MASK         (0x3<<RFIF_SETTING_CW_LSB)
/*MT6260RF*/ #define L1_IBB4_FLAG_CW_LSB          10
/*MT6260RF*/ #define L1_IBB4_FLAG_CW_MASK         (0x1<<L1_IBB4_FLAG_CW_LSB)
/*MT6260RF*/ #define GAIN_LATCH2_OFF_CW_LSB       9
/*MT6260RF*/ #define GAIN_LATCH2_OFF_CW_MASK      (0x1<<GAIN_LATCH2_OFF_CW_LSB) 
/*MT6260RF*/ #define RX_LPF_EN_CW_LSB             8
/*MT6260RF*/ #define RX_LPF_EN_CW_MASK            (0x1<<RX_LPF_EN_CW_LSB)
/*MT6260RF*/ #define LNA_CUR_CW_LSB               2
/*MT6260RF*/ #define LNA_CUR_CW_MASK              (0x3F<<LNA_CUR_CW_LSB)
/*MT6260RF*/ #define CW96_SETTING_CW_LSB          2
/*MT6260RF*/ #define CW96_SETTING_CW_MASK         (0x7F<<CW96_SETTING_CW_LSB)
/*MT6260RF*/ #define RX_LPF_EN_TABLE_LSB          6
/*MT6260RF*/ #define RX_LPF_EN_TABLE_MASK         (0x1<<RX_LPF_EN_TABLE_LSB)
/*MT6260RF*/ #define LNA_CUR_TABLE_LSB            0
/*MT6260RF*/ #define LNA_CUR_TABLE_MASK           (0x3F<<LNA_CUR_TABLE_LSB)
/*MT6260RF*/
/*MT6260RF*/ const  unsigned char  INSERTION_LOSS_TABLE[5] =
/*MT6260RF*/ {     /* Insertion loss                     */
/*MT6260RF*/    0, /* for GSM 400: no support            */
/*MT6260RF*/   11, /* for GSM 850: 11.2 = 1.4dB * PWRRES */
/*MT6260RF*/   11, /* for GSM 900: 11.2 = 1.4dB * PWRRES */
/*MT6260RF*/   14, /* for DCS1800: 13.6 = 1.7dB * PWRRES */
/*MT6260RF*/   14, /* for PcS1900: 13.6 = 1.7dB * PWRRES */
/*MT6260RF*/ };
/*MT6260RF*/ /* { RFFE gain step, RFIF gain step } */
/*MT6260RF*/ const  unsigned char  NORMAL_GAIN_TABLE[MAX_GAIN_STEP+1][2] =
/*MT6260RF*/ {  { 3, 2 }, /* gain_step = 0 */ /*-111~-103 */
/*MT6260RF*/    { 2, 2 }, /* gain_step = 1 */ /*-102~-91  */
/*MT6260RF*/    { 2, 1 }, /* gain_step = 2 */ /*-90~-81   */
/*MT6260RF*/    { 2, 0 }, /* gain_step = 3 */ /*-80~-47   */
/*MT6260RF*/    { 0, 2 }, /* gain_step = 4 */ /*-46~-41   */
/*MT6260RF*/    { 0, 1 }, /* gain_step = 5 */ /*-40~-35   */
/*MT6260RF*/    { 0, 0 }, /* gain_step = 6 */ /*-34L/-33H */
/*MT6260RF*/ };
/*MT6260RF*/ const  unsigned char  RFFE_SETTING[2][4] = 
/*MT6260RF*/ {  /*   0     1     2     3  :RFFE gain_step */
/*MT6260RF*/    { 0x0B, 0x45, 0x6A, 0x7E }, /* LowBand    */ /*7bits,RX_GC[8:2]=LNA_GAIN[2:0]+LNA_REF_SEL[2:0]+LNA_BLK_SEL[0]*/
/*MT6260RF*/    { 0x0B, 0x45, 0x6A, 0x7E }, /* HighBand   */ /*7bits,RX_GC[8:2]=LNA_GAIN[2:0]+LNA_REF_SEL[2:0]+LNA_BLK_SEL[0]*/
/*MT6260RF*/ };
/*MT6260RF*/ /*                    RFIF gain step:      0     1     2  */
/*MT6260RF*/ const  unsigned char  RFIF_SETTING[] = { 0x00, 0x01, 0x02 }; /*2bits*/
/*MT6260RF*/
/*MT6260RF*/ /* GAIN_TABLE: voltage gain (total gain) */
/*MT6260RF*/ const short GAIN_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6260RF*/ {  /*  0    1   2   3   4   5   6  :gain_step    */
/*MT6260RF*/    { 161,143,95,47,-38, -86,-134},  /* LowBand , 54.1, 51.9, 45.9, 39.9, 29.2, 23.2, 17.2  */
/*MT6260RF*/    { 158,124,76,28,-52,-100,-148},  /* HighBand, 53.7, 49.5, 43.5, 37.5, 27.5, 21.5, 15.5  */
/*MT6260RF*/ };
/*MT6260RF*/ const short GAIN_TABLE_BLOCKER[2][MAX_GAIN_STEP+1] =
/*MT6260RF*/ {  /*  0    1   2   3   4   5   6  :gain_step    */
/*MT6260RF*/    { 144,121,74,26,-39,-87,-135}, /* LowBand , 52  , 49.1, 43.2, 37.2, 29.1, 23.1, 17.1  */
/*MT6260RF*/    { 139,102,56,8,-60,-108,-156}, /* HighBand, 51.4, 46.8, 41  , 35  , 26.5, 20.5, 14.5  */
/*MT6260RF*/ };
/*MT6260RF*/ const short GAIN_TABLE_HEADROOM[2][MAX_GAIN_STEP+1] =
/*MT6260RF*/ {  /*  0   1   2   3   4   5   6  :gain_step    */
/*MT6260RF*/    { 117,99,51,51,-34, -82,-130},  /* LowBand , 48.6, 46.4, 40.4, 40.4, 29.7, 23.7, 17.7  */
/*MT6260RF*/    { 110,76,28,28,-52,-100,-148},  /* HighBand, 47.7, 43.5, 37.5, 37.5, 27.5, 21.5, 15.5  */
/*MT6260RF*/ };
/*MT6260RF*/ const  unsigned char  GAIN_SETTING_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6260RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6260RF*/    { 0x41, 0x40, 0x00, 0x00, 0x40, 0x00, 0x00 }, /* LowBand   NOR RG_RXLPF_LPEN[0]+LNA_CUR[5:0] */
/*MT6260RF*/    { 0x4E, 0x40, 0x00, 0x00, 0x42, 0x02, 0x02 }, /* HighBand  NOR RG_RXLPF_LPEN[0]+LNA_CUR[5:0] */
/*MT6260RF*/ };
/*MT6260RF*/ const  unsigned char  GAIN_SETTING_TABLE_BLOCKER[2][MAX_GAIN_STEP+1] =
/*MT6260RF*/ {  /*   0  1   2  3   4  5   6  :gain_step    */
/*MT6260RF*/    { 0x41, 0x40, 0x05, 0x05, 0x40, 0x00, 0x00 }, /* LowBand  IBB&OBB RG_RXLPF_LPEN[0]+LNA_CUR[5:0] */
/*MT6260RF*/    { 0x4E, 0x40, 0x05, 0x05, 0x42, 0x02, 0x02 }, /* HighBand IBB&OBB RG_RXLPF_LPEN[0]+LNA_CUR[5:0] */
/*MT6260RF*/ };
/*MT6260RF*/ const  unsigned char  GAIN_SETTING_TABLE_HEADROOM[2][MAX_GAIN_STEP+1] =
/*MT6260RF*/ {   /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6260RF*/    { 0x41, 0x40, 0x00, 0x00, 0x40, 0x00, 0x00 }, /* LowBand   ACI2 RG_RXLPF_LPEN[0]+LNA_CUR[5:0] */
/*MT6260RF*/    { 0x4E, 0x40, 0x00, 0x00, 0x42, 0x02, 0x02 }, /* HighBand  ACI2 RG_RXLPF_LPEN[0]+LNA_CUR[5:0] */
/*MT6260RF*/ };
/*MT6260RF*/ #define NORMAL_GAIN_TABLE_FLAG       0
/*MT6260RF*/ #define OBB_GAIN_TABLE_FLAG          1
/*MT6260RF*/ #define ACI_GAIN_TABLE_FLAG          2
/*MT6260RF*/ #define POWER_GAIN_dBm(v)           (((v)-PVOFS)*(PWRRES))
/*MT6260RF*/ #define POWER_GAIN_HdBm(v)          (((v)-(PVOFS<<1))*(PWRRES>>1))
/*MT6260RF*/
/*MT6260RF*/ #define IS_GAIN_TABLE_IN_HALFDBM     0 
/*MT6260RF*/
/*MT6260RF*/ #define GET_POWER_GAIN(v)           (v)
/*MT6260RF*/                     
/*MT6260RF*/
/*MT6260RF*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6260RF*/
/*MT6260RF*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6260RF*/ {  int           band_mode, real_gain, gain_step, insertion_loss, gain_table, blk_flag = 0;
/*MT6260RF*/    int           rffe_gain_drop = 0, rfif_gain_drop = 0;
/*MT6260RF*/    unsigned int  rffe_setting, rfif_setting, l1_ibb4_flag, rx_lpf_en, lna_cur, cw96_setting, setting;
/*MT6260RF*/
/*MT6260RF*/    band_mode      = (rf_band < FrequencyBand1800) ? 0 /* LowBand */ : 1 /* HighBand */;
/*MT6260RF*/    insertion_loss = INSERTION_LOSS_TABLE[rf_band];
/*MT6260RF*/ #if IS_OUTBAND_BLOCKER_DETECTION_SUPPORT || IS_INBAND_BLOCKER_DETECTION_SUPPORT || IS_HEADROOM_DETECTION_SUPPORT
/*MT6260RF*/    blk_flag       = l1d_rf.blk_flag;
/*MT6260RF*/ #endif
/*MT6260RF*/       
/*MT6260RF*/    /* Clipping the request gain to the avialable gain. */
/*MT6260RF*/    for( gain_step = 0; gain_step <= MAX_GAIN_STEP; gain_step++ )
/*MT6260RF*/    {  if( request_gain >= GET_POWER_GAIN( GAIN_TABLE_NORMAL[band_mode][gain_step] ))
/*MT6260RF*/       {  break;  }       
/*MT6260RF*/    }
/*MT6260RF*/    if( gain_step > MAX_GAIN_STEP ) gain_step = MAX_GAIN_STEP;
/*MT6260RF*/
/*MT6260RF*/    /* Evaluate the real gain setting. */
/*MT6260RF*/    if( 0 )
/*MT6260RF*/    { /* do nothing */ }
/*MT6260RF*/ #if IS_OUTBAND_BLOCKER_DETECTION_SUPPORT || IS_INBAND_BLOCKER_DETECTION_SUPPORT
/*MT6260RF*/    else if( ( (blk_flag & LB_OBB_FOUND) && (band_mode == 0) ) ||
/*MT6260RF*/             ( (blk_flag & HB_OBB_FOUND) && (band_mode == 1) ) ||
/*MT6260RF*/             ( (blk_flag &    IBB_FOUND)                     ) )
/*MT6260RF*/    {  
/*MT6260RF*/       gain_table   = OBB_GAIN_TABLE_FLAG;
/*MT6260RF*/       real_gain    = GET_POWER_GAIN( GAIN_TABLE_BLOCKER[band_mode][gain_step] ) - insertion_loss;
/*MT6260RF*/       cw96_setting = GAIN_SETTING_TABLE_BLOCKER[band_mode][gain_step];
/*MT6260RF*/       if( gain_step <= MAX_BLK_DROP_GAIN_STEP ) 
/*MT6260RF*/       {  rffe_gain_drop = 1;  }
/*MT6260RF*/    }
/*MT6260RF*/ #endif
/*MT6260RF*/ #if IS_HEADROOM_DETECTION_SUPPORT
/*MT6260RF*/    else if( blk_flag & HRD_FOUND )
/*MT6260RF*/    {  
/*MT6260RF*/       gain_table   = ACI_GAIN_TABLE_FLAG;
/*MT6260RF*/       real_gain    = GET_POWER_GAIN( GAIN_TABLE_HEADROOM[band_mode][gain_step] ) - insertion_loss;
/*MT6260RF*/       cw96_setting = GAIN_SETTING_TABLE_HEADROOM[band_mode][gain_step];
/*MT6260RF*/       if( gain_step <= MAX_HRD_DROP_GAIN_STEP )   
/*MT6260RF*/       {  rfif_gain_drop = 1; }
/*MT6260RF*/    }
/*MT6260RF*/ #endif
/*MT6260RF*/    else
/*MT6260RF*/    {  
/*MT6260RF*/       gain_table   = NORMAL_GAIN_TABLE_FLAG;
/*MT6260RF*/       real_gain    = GET_POWER_GAIN( GAIN_TABLE_NORMAL[band_mode][gain_step] ) - insertion_loss; 
/*MT6260RF*/       cw96_setting = GAIN_SETTING_TABLE_NORMAL[band_mode][gain_step];
/*MT6260RF*/    }
/*MT6260RF*/    rffe_setting = RFFE_SETTING[band_mode][ NORMAL_GAIN_TABLE[gain_step][0] - rffe_gain_drop ];
/*MT6260RF*/    rfif_setting = RFIF_SETTING[ NORMAL_GAIN_TABLE[gain_step][1] - rfif_gain_drop ];
/*MT6260RF*/
/*MT6260RF*/    /* Compose CW96 */
/*MT6260RF*/    l1_ibb4_flag  = (blk_flag & IBB_FOUND) ? 1 : 0;
/*MT6260RF*/    rx_lpf_en     = ((cw96_setting&RX_LPF_EN_TABLE_MASK)>>RX_LPF_EN_TABLE_LSB);
/*MT6260RF*/    lna_cur       = ((cw96_setting&LNA_CUR_TABLE_MASK)>>LNA_CUR_TABLE_LSB);
/*MT6260RF*/
/*MT6260RF*/    setting       = (rffe_setting<<RFFE_SETTING_CW_LSB) | (rfif_setting<<RFIF_SETTING_CW_LSB) | 
/*MT6260RF*/                    (l1_ibb4_flag<<L1_IBB4_FLAG_CW_LSB) | (POR_CW96&GAIN_LATCH2_OFF_CW_MASK)  | 
/*MT6260RF*/                    (rx_lpf_en<<RX_LPF_EN_CW_LSB)       | (lna_cur<<LNA_CUR_CW_LSB);
/*MT6260RF*/    *gain_setting = ((gain_table&0xFF)<<28) | BSI_CW(0x60, setting); /* CW96: RX Gain*/
/*MT6260RF*/    return( real_gain );
/*MT6260RF*/ }
/*MT6260RF*/
   #if IS_W_CANCELLATION_SUPPORT
/*MT6260RF*/ unsigned short   L1D_RF_FindGainStep( unsigned long gain_setting, FrequencyBand rf_band )
/*MT6260RF*/ {
/*MT6260RF*/     int           band_mode, gain_step;
/*MT6260RF*/     unsigned int  gain_table, rffe_setting, rfif_setting, cw96_setting;
/*MT6260RF*/
/*MT6260RF*/     gain_table   = (unsigned int)(gain_setting&0xFF0000000L)>>28;
/*MT6260RF*/     rffe_setting = (gain_setting&RFFE_SETTING_CW_MASK)>>RFFE_SETTING_CW_LSB;
/*MT6260RF*/     rfif_setting = (gain_setting&RFIF_SETTING_CW_MASK)>>RFIF_SETTING_CW_LSB;
/*MT6260RF*/     cw96_setting = (gain_setting&CW96_SETTING_CW_MASK)>>CW96_SETTING_CW_LSB;
/*MT6260RF*/     band_mode    = (rf_band < FrequencyBand1800) ? 0 /* LowBand */ : 1 /* HighBand */;
/*MT6260RF*/
/*MT6260RF*/     if( gain_table == NORMAL_GAIN_TABLE_FLAG )
/*MT6260RF*/     {  
/*MT6260RF*/        /* Normal condition: gain_step: 0,1,2,3,4 */
/*MT6260RF*/        for(gain_step = 0; gain_step <= 3; gain_step++ )
/*MT6260RF*/        {  if( ( rffe_setting == RFFE_SETTING[band_mode][ NORMAL_GAIN_TABLE[gain_step][0] ] ) &&
/*MT6260RF*/               ( rfif_setting == RFIF_SETTING[ NORMAL_GAIN_TABLE[gain_step][1] ]            ) &&
/*MT6260RF*/               ( cw96_setting == GAIN_SETTING_TABLE_NORMAL[band_mode][gain_step]  ) )
/*MT6260RF*/           {  break;  }
/*MT6260RF*/        }
/*MT6260RF*/        if( gain_step > 3 ) gain_step = 4;
/*MT6260RF*/     }
/*MT6260RF*/  #if IS_HEADROOM_DETECTION_SUPPORT
/*MT6260RF*/     else if( gain_table == ACI_GAIN_TABLE_FLAG )
/*MT6260RF*/     {  
/*MT6260RF*/        /* Only headroom found: gain_step: 4,5 */
/*MT6260RF*/        if( ( rffe_setting == RFFE_SETTING[band_mode][ NORMAL_GAIN_TABLE[0][0] ] ) &&
/*MT6260RF*/            ( rfif_setting == RFIF_SETTING[ NORMAL_GAIN_TABLE[0][1] - 1 ]        ) &&
/*MT6260RF*/            ( cw96_setting == GAIN_SETTING_TABLE_HEADROOM[band_mode][0]  ) )
/*MT6260RF*/        {  gain_step = 5;  }
/*MT6260RF*/        else
/*MT6260RF*/        {  gain_step = 4;  }
/*MT6260RF*/     }
/*MT6260RF*/  #endif
/*MT6260RF*/     else /* Others: gain_step: 4 */
/*MT6260RF*/     {  gain_step = 4;  }
/*MT6260RF*/     
/*MT6260RF*/     /* LB step: 0,2,4,6,8,10 */
/*MT6260RF*/     /* HB step: 1,3,5,7,9,11 */
/*MT6260RF*/     gain_step = gain_step * 2 + band_mode;
/*MT6260RF*/     
/*MT6260RF*/     return gain_step;
/*MT6260RF*/ }
/*MT6260RF*/
   #endif
#endif


#if IS_RF_MT6250RF
/*MT6250RF*/
/*MT6250RF*/ #define  PVOFS                       34  /* voltage gain(total gain) - PVOFS = power gain   */
/*MT6250RF*/ #define  MAX_GAIN_STEP                6  /*   (sizeof(GAIN_TABLE_NORMAL[0])/sizeof(char))-1 */
/*MT6250RF*/ #define  MAX_BLK_DROP_GAIN_STEP       3  /*  (sizeof(GAIN_TABLE_BLOCKER[0])/sizeof(char))-1 */
/*MT6250RF*/ #define  MAX_HRD_DROP_GAIN_STEP       2  /* (sizeof(GAIN_TABLE_HEADROOM[0])/sizeof(char))-1 */
/*MT6250RF*/ #define  NORMAL_GAIN_TABLE_FLAG       0
/*MT6250RF*/ #define  OBB_GAIN_TABLE_FLAG          1
/*MT6250RF*/ #define  ACI_GAIN_TABLE_FLAG          2
/*MT6250RF*/ #define  POWER_GAIN(v)               (((v)-PVOFS)*(PWRRES))
/*MT6250RF*/ #define  POWER_GAIN2(v)              (((v)-(PVOFS<<1))*(PWRRES>>1))
/*MT6250RF*/                     
/*MT6250RF*/ const  unsigned char  INSERTION_LOSS_TABLE[5] = 
/*MT6250RF*/ {     /* Insertion loss                     */ 
/*MT6250RF*/    0, /* for GSM 400: no support            */ 
/*MT6250RF*/   19, /* for GSM 850: 19 = 2.375dB * PWRRES */ 
/*MT6250RF*/   19, /* for GSM 900: 19 = 2.375dB * PWRRES */ 
/*MT6250RF*/   24, /* for DCS1800: 24 = 3.000dB * PWRRES */ 
/*MT6250RF*/   26, /* for PcS1900: 26 = 3.250dB * PWRRES */
/*MT6250RF*/ };
/*MT6250RF*/
/*MT6250RF*/ /* { RFFE gain step, RFIF gain step } */
/*MT6250RF*/ const  unsigned char  NORMAL_GAIN_TABLE[][2] =
/*MT6250RF*/ {  { 3, 2 }, /* gain_step = 0 */
/*MT6250RF*/    { 2, 2 }, /* gain_step = 1 */
/*MT6250RF*/    { 2, 1 }, /* gain_step = 2 */
/*MT6250RF*/    { 2, 0 }, /* gain_step = 3 */
/*MT6250RF*/    { 0, 2 }, /* gain_step = 4 */
/*MT6250RF*/    { 0, 1 }, /* gain_step = 5 */
/*MT6250RF*/    { 0, 0 }, /* gain_step = 6 */
/*MT6250RF*/ };
/*MT6250RF*/ const  unsigned char  RFFE_SETTING[2][4] = 
/*MT6250RF*/ {  /*   0     1     2     3  :RFFE gain_step */
/*MT6250RF*/    { 0x07, 0x21, 0x36, 0x3C }, /* LowBand    */ /*6bits*/
/*MT6250RF*/    { 0x07, 0x21, 0x36, 0x3C }, /* HighBand   */ /*6bits*/
/*MT6250RF*/ };
/*MT6250RF*/ /*                    RFIF gain step:      0     1     2  */
/*MT6250RF*/ const  unsigned char  RFIF_SETTING[] = { 0x00, 0x01, 0x02 }; /*2bits*/
/*MT6250RF*/
/*MT6250RF*/ /* GAIN_TABLE: voltage gain (total gain) */
/*MT6250RF*/ const  unsigned char  GAIN_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6250RF*/ {  /*  0    1   2   3   4   5   6  :gain_step    */
/*MT6250RF*/    { 114, 111, 99, 87, 48, 36, 24 }, /* LowBand  */
/*MT6250RF*/    { 113, 107, 95, 83, 48, 36, 24 }, /* HighBand */
/*MT6250RF*/ };
/*MT6250RF*/ const  unsigned char  GAIN_TABLE_BLOCKER[2][MAX_GAIN_STEP+1] =
/*MT6250RF*/ {  /*  0    1   2   3   4   5   6  :gain_step    */
/*MT6250RF*/    { 111, 102, 90, 78, 48, 36, 24 }, /* LowBand  */
/*MT6250RF*/    { 107, 100, 88, 76, 48, 36, 24 }, /* HighBand */
/*MT6250RF*/ };
/*MT6250RF*/ const  unsigned char  GAIN_TABLE_HEADROOM[2][MAX_GAIN_STEP+1] =
/*MT6250RF*/ {  /*  0   1   2   3   4   5   6  :gain_step    */
/*MT6250RF*/    { 102, 98, 86, 86, 48, 36, 24 }, /* LowBand  */
/*MT6250RF*/    { 101, 98, 86, 86, 48, 36, 24 }, /* HighBand */
/*MT6250RF*/ };
/*MT6250RF*/
/*MT6250RF*/ /* GAIN_SETTING_TABLE: RG_RXLPF_LPEN[0] and Nor_RX_LNA_CUR[3:0] */ /*5bits*/
/*MT6250RF*/ const  unsigned char  GAIN_SETTING_TABLE_NORMAL[2][MAX_GAIN_STEP+1] =
/*MT6250RF*/ {  /*   0     1     2     3     4     5     6  :gain_step    */
/*MT6250RF*/    { 0x11, 0x1F, 0x0F, 0x0F, 0x11, 0x01, 0x01 }, /* LowBand  */
/*MT6250RF*/    { 0x1F, 0x1F, 0x0F, 0x0F, 0x11, 0x01, 0x01 }, /* HighBand */
/*MT6250RF*/ };
/*MT6250RF*/ const  unsigned char  GAIN_SETTING_TABLE_BLOCKER[2][MAX_GAIN_STEP+1] =
/*MT6250RF*/ {  /*   0     1     2     3  :gain_step                      */
/*MT6250RF*/    { 0x1F, 0x11, 0x01, 0x01, 0x11, 0x01, 0x01 }, /* LowBand  */
/*MT6250RF*/    { 0x1F, 0x11, 0x01, 0x01, 0x11, 0x01, 0x01 }, /* HighBand */
/*MT6250RF*/ };
/*MT6250RF*/ const  unsigned char  GAIN_SETTING_TABLE_HEADROOM[2][MAX_GAIN_STEP+1] =
/*MT6250RF*/ {  /*   0     1     2  :gain_step                            */
/*MT6250RF*/    { 0x11, 0x1F, 0x0F, 0x0F, 0x11, 0x01, 0x01 }, /* LowBand  */
/*MT6250RF*/    { 0x1F, 0x1F, 0x0F, 0x0F, 0x11, 0x01, 0x01 }, /* HighBand */
/*MT6250RF*/ };
/*MT6250RF*/
/*MT6250RF*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6250RF*/
/*MT6250RF*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6250RF*/ {  int           band_mode, real_gain, gain_step, insertion_loss, gain_table, blk_flag = 0;
/*MT6250RF*/    int           rffe_gain_drop = 0, rfif_gain_drop = 0;
/*MT6250RF*/    unsigned int  rffe_setting, rfif_setting, l1_ibb4_flag, rx_lpf_en, lna_cur, cw96_setting, setting;
/*MT6250RF*/
/*MT6250RF*/    band_mode      = (rf_band < FrequencyBand1800) ? 0 /* LowBand */ : 1 /* HighBand */;
/*MT6250RF*/    insertion_loss = INSERTION_LOSS_TABLE[rf_band];
/*MT6250RF*/ #if IS_OUTBAND_BLOCKER_DETECTION_SUPPORT || IS_INBAND_BLOCKER_DETECTION_SUPPORT || IS_HEADROOM_DETECTION_SUPPORT
/*MT6250RF*/    blk_flag       = l1d_rf.blk_flag;
/*MT6250RF*/ #endif
/*MT6250RF*/       
/*MT6250RF*/    /* Clipping the request gain to the avialable gain. */
/*MT6250RF*/    for( gain_step = 0; gain_step <= MAX_GAIN_STEP; gain_step++ )
/*MT6250RF*/    {  if( request_gain >= POWER_GAIN2( GAIN_TABLE_NORMAL[band_mode][gain_step] ) )
/*MT6250RF*/       {  break;  }
/*MT6250RF*/    }
/*MT6250RF*/    if( gain_step > MAX_GAIN_STEP ) gain_step = MAX_GAIN_STEP;
/*MT6250RF*/
/*MT6250RF*/    /* Evaluate the real gain setting. */
/*MT6250RF*/    if( 0 )
/*MT6250RF*/    { /* do nothing */ }
/*MT6250RF*/ #if IS_OUTBAND_BLOCKER_DETECTION_SUPPORT || IS_INBAND_BLOCKER_DETECTION_SUPPORT
/*MT6250RF*/    else if( ( (blk_flag & LB_OBB_FOUND) && (band_mode == 0) ) ||
/*MT6250RF*/             ( (blk_flag & HB_OBB_FOUND) && (band_mode == 1) ) ||
/*MT6250RF*/             ( (blk_flag &    IBB_FOUND)                     ) )
/*MT6250RF*/    {  
/*MT6250RF*/       gain_table = OBB_GAIN_TABLE_FLAG;
/*MT6250RF*/       real_gain = POWER_GAIN2( GAIN_TABLE_BLOCKER[band_mode][gain_step] ) - insertion_loss;
/*MT6250RF*/       cw96_setting = GAIN_SETTING_TABLE_BLOCKER[band_mode][gain_step];
/*MT6250RF*/       if( gain_step <= MAX_BLK_DROP_GAIN_STEP ) 
/*MT6250RF*/       {  rffe_gain_drop = 1;  }
/*MT6250RF*/    }
/*MT6250RF*/ #endif
/*MT6250RF*/ #if IS_HEADROOM_DETECTION_SUPPORT
/*MT6250RF*/    else if( blk_flag & HRD_FOUND )
/*MT6250RF*/    {  
/*MT6250RF*/       gain_table = ACI_GAIN_TABLE_FLAG;
/*MT6250RF*/       real_gain = POWER_GAIN2( GAIN_TABLE_HEADROOM[band_mode][gain_step] ) - insertion_loss;
/*MT6250RF*/       cw96_setting = GAIN_SETTING_TABLE_HEADROOM[band_mode][gain_step];
/*MT6250RF*/       if( gain_step <= MAX_HRD_DROP_GAIN_STEP )   
/*MT6250RF*/       {  rfif_gain_drop = 1; }
/*MT6250RF*/    }
/*MT6250RF*/ #endif
/*MT6250RF*/    else
/*MT6250RF*/    {  
/*MT6250RF*/       gain_table = NORMAL_GAIN_TABLE_FLAG;
/*MT6250RF*/       real_gain = POWER_GAIN2( GAIN_TABLE_NORMAL[band_mode][gain_step] ) - insertion_loss; 
/*MT6250RF*/       cw96_setting = GAIN_SETTING_TABLE_NORMAL[band_mode][gain_step];
/*MT6250RF*/    }
/*MT6250RF*/    rffe_setting = RFFE_SETTING[band_mode][ NORMAL_GAIN_TABLE[gain_step][0] - rffe_gain_drop ];
/*MT6250RF*/    rfif_setting = RFIF_SETTING[ NORMAL_GAIN_TABLE[gain_step][1] - rfif_gain_drop ];
/*MT6250RF*/
/*MT6250RF*/    /* Compose CW96 */
/*MT6250RF*/    l1_ibb4_flag  = (blk_flag & IBB_FOUND) ? 1 : 0;
/*MT6250RF*/    rx_lpf_en     = ((cw96_setting&0x10)>>4);
/*MT6250RF*/    lna_cur       = (cw96_setting&0xF);
/*MT6250RF*/    setting       = (rffe_setting<<14) | (rfif_setting<<12) | (l1_ibb4_flag<<11) | 
/*MT6250RF*/                    (POR_CW96&0x00400) | (rx_lpf_en<<9) | (lna_cur<<5) | (lna_cur<<1);
/*MT6250RF*/    *gain_setting = ((gain_table&0xFF)<<28) | BSI_CW(0x60, setting); /* CW96: RX Gain*/
/*MT6250RF*/
/*MT6250RF*/    return( real_gain );
/*MT6250RF*/ }
/*MT6250RF*/
   #if IS_W_CANCELLATION_SUPPORT
/*MT6250RF*/ unsigned short   L1D_RF_FindGainStep( unsigned long gain_setting, FrequencyBand rf_band )
/*MT6250RF*/ {
/*MT6250RF*/     int           band_mode, gain_step;
/*MT6250RF*/     unsigned int  gain_table, rffe_setting, rfif_setting, cw96_setting;
/*MT6250RF*/
/*MT6250RF*/     gain_table   = (unsigned int)(gain_setting&0xFF0000000L)>>28;
/*MT6250RF*/     rffe_setting = (gain_setting&0xFC000)>>14;
/*MT6250RF*/     rfif_setting = (gain_setting&0x03000)>>12;
/*MT6250RF*/     cw96_setting = (gain_setting&0x003E0)>> 5;
/*MT6250RF*/     band_mode    = (rf_band < FrequencyBand1800) ? 0 /* LowBand */ : 1 /* HighBand */;
/*MT6250RF*/
/*MT6250RF*/     if( gain_table == NORMAL_GAIN_TABLE_FLAG )
/*MT6250RF*/     {  
/*MT6250RF*/        /* Normal condition: gain_step: 0,1,2,3,4 */
/*MT6250RF*/        for(gain_step = 0; gain_step <= 3; gain_step++ )
/*MT6250RF*/        {  if( ( rffe_setting == RFFE_SETTING[band_mode][ NORMAL_GAIN_TABLE[gain_step][0] ] ) &&
/*MT6250RF*/               ( rfif_setting == RFIF_SETTING[ NORMAL_GAIN_TABLE[gain_step][1] ]            ) &&
/*MT6250RF*/               ( cw96_setting == GAIN_SETTING_TABLE_NORMAL[band_mode][gain_step]            ) )
/*MT6250RF*/           {  break;  }
/*MT6250RF*/        }
/*MT6250RF*/        if( gain_step > 3 ) gain_step = 4;
/*MT6250RF*/     }
/*MT6250RF*/  #if IS_HEADROOM_DETECTION_SUPPORT
/*MT6250RF*/     else if( gain_table == ACI_GAIN_TABLE_FLAG )
/*MT6250RF*/     {  
/*MT6250RF*/        /* Only headroom found: gain_step: 4,5 */
/*MT6250RF*/        if( ( rffe_setting == RFFE_SETTING[band_mode][ NORMAL_GAIN_TABLE[0][0] ] ) &&
/*MT6250RF*/            ( rfif_setting == RFIF_SETTING[ NORMAL_GAIN_TABLE[0][1] - 1 ]        ) &&
/*MT6250RF*/            ( cw96_setting == GAIN_SETTING_TABLE_HEADROOM[band_mode][0]  ) )
/*MT6250RF*/        {  gain_step = 5;  }
/*MT6250RF*/        else
/*MT6250RF*/        {  gain_step = 4;  }
/*MT6250RF*/     }
/*MT6250RF*/  #endif
/*MT6250RF*/     else /* Others: gain_step: 4 */
/*MT6250RF*/     {  gain_step = 4;  }
/*MT6250RF*/     
/*MT6250RF*/     /* LB step: 0,2,4,6,8,10 */
/*MT6250RF*/     /* HB step: 1,3,5,7,9,11 */
/*MT6250RF*/     gain_step = gain_step * 2 + band_mode;
/*MT6250RF*/     
/*MT6250RF*/     return gain_step;
/*MT6250RF*/ }
/*MT6250RF*/
   #endif
#endif

#if IS_RF_MT6256RF
/*MT6256RF*/
/*MT6256RF*/ #define  GAIN_STEP               6
/*MT6256RF*/ #define  PVOFSL                  34
/*MT6256RF*/ #define  PVOFSH                  34
/*MT6256RF*/ #define  INSERTION_LOSS         (3*(PWRRES))  //Insertion loss is 3dB
/*MT6256RF*/ #define  RF_GSM850_MAXGAIN      (( 62-PVOFSL )*(PWRRES))
/*MT6256RF*/ #define  RF_GSM850_MINGAIN      ((  2-PVOFSL )*(PWRRES))
/*MT6256RF*/ #define  RF_GSM_MAXGAIN         (( 62-PVOFSL )*(PWRRES))
/*MT6256RF*/ #define  RF_GSM_MINGAIN         ((  2-PVOFSL )*(PWRRES))
/*MT6256RF*/ #define  RF_DCS_MAXGAIN         (( 62-PVOFSH )*(PWRRES))
/*MT6256RF*/ #define  RF_DCS_MINGAIN         ((  0-PVOFSH )*(PWRRES))
/*MT6256RF*/ #define  RF_PCS_MAXGAIN         (( 62-PVOFSH )*(PWRRES))
/*MT6256RF*/ #define  RF_PCS_MINGAIN         ((  0-PVOFSH )*(PWRRES))
/*MT6256RF*/
/*MT6256RF*/ /* GSM850....................................................................*/
/*MT6256RF*/
/*MT6256RF*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*MT6256RF*/ {  {  GBOUND(( 32-PVOFSL ),( 26-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), BSI_CW(0x60, 0x40) },
/*MT6256RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  2-PVOFSL ) ), BSI_CW(0x60, 0x00) },
/*MT6256RF*/ };
/*MT6256RF*/
/*MT6256RF*/ /* GSM900....................................................................*/
/*MT6256RF*/
/*MT6256RF*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*MT6256RF*/ {  {  GBOUND(( 32-PVOFSL ),( 26-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), BSI_CW(0x60, 0x40) },
/*MT6256RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  2-PVOFSL ) ), BSI_CW(0x60, 0x00) },
/*MT6256RF*/ };
/*MT6256RF*/
/*MT6256RF*/ /* DCS1800...................................................................*/
/*MT6256RF*/
/*MT6256RF*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2] =
/*MT6256RF*/ {  {  GBOUND(( 32-PVOFSL ),( 22-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), BSI_CW(0x60, 0x40) },
/*MT6256RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  0-PVOFSL ) ), BSI_CW(0x60, 0x00) },
/*MT6256RF*/ };
/*MT6256RF*/
/*MT6256RF*/ /* PCS1900...................................................................*/
/*MT6256RF*/
/*MT6256RF*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2] =
/*MT6256RF*/ {  {  GBOUND(( 32-PVOFSL ),( 22-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), BSI_CW(0x60, 0x40) },
/*MT6256RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  0-PVOFSL ) ), BSI_CW(0x60, 0x00) },
/*MT6256RF*/ };
/*MT6256RF*/
/*MT6256RF*/ /*...........................................................................*/
/*MT6256RF*/
/*MT6256RF*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MT6256RF*/ {  {                   0,                      0    }, /*#FrequencyBand400  */
/*MT6256RF*/    { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MT6256RF*/    { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MT6256RF*/    { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MT6256RF*/    { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MT6256RF*/ };
/*MT6256RF*/
/*MT6256RF*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MT6256RF*/ {  0,                                              /*#FrequencyBand400  */
/*MT6256RF*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*MT6256RF*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*MT6256RF*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*MT6256RF*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*MT6256RF*/ };
/*MT6256RF*/
/*MT6256RF*/ const  int  GAIN_STEP_TABLE[] =
/*MT6256RF*/ { 10, 18, 26, 34, 42, 45, 53 };   /* gain step for high/low LNA gain                */
/*MT6256RF*/                                   /* Low LNA gain  : { 10, 18, 26, 34, 42         } */
/*MT6256RF*/                                   /* High LNA gain : {     18, 26, 34, 42, 45, 53 } */
/*MT6256RF*/
/*MT6256RF*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6256RF*/
/*MT6256RF*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6256RF*/ {  int   max_gain, min_gain, real_gain;
/*MT6256RF*/    const int*    d32ptr;
/*MT6256RF*/    const sL1DAGCDATA*  agcptr;
/*MT6256RF*/    long  setting;
/*MT6256RF*/    int   bit_no, gain_step, idx_shift_value;
/*MT6256RF*/
/*MT6256RF*/    /* evaluate the range of available gain */
/*MT6256RF*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MT6256RF*/    max_gain = *d32ptr++;
/*MT6256RF*/    min_gain = *d32ptr;
/*MT6256RF*/
/*MT6256RF*/    /* clipping the request gain to the avialable gain */
/*MT6256RF*/    if( request_gain>=max_gain )
/*MT6256RF*/    {  request_gain = max_gain;  }
/*MT6256RF*/    else  if( request_gain<=min_gain )
/*MT6256RF*/    {  request_gain = min_gain;  }
/*MT6256RF*/
/*MT6256RF*/    /* evaluate the real gain setting */
/*MT6256RF*/    agcptr = AGC_TABLE[rf_band];
/*MT6256RF*/    idx_shift_value = 1;  //Since the lowest gain step of high LNA gain case is 18
/*MT6256RF*/    if( request_gain < agcptr->pos_gain )
/*MT6256RF*/    {  agcptr++;
/*MT6256RF*/       idx_shift_value = 0;
/*MT6256RF*/    }
/*MT6256RF*/    {
/*MT6256RF*/       bit_no = BIT_NO( request_gain, agcptr->A, GC_B );
/*MT6256RF*/       gain_step = GAIN_STEP_TABLE[bit_no+idx_shift_value];  //Use bit_no to choose gain step
/*MT6256RF*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B ) - INSERTION_LOSS;
/*MT6256RF*/       setting   = agcptr->setting + gain_step;
/*MT6256RF*/    }
/*MT6256RF*/
/*MT6256RF*/    *gain_setting = setting;
/*MT6256RF*/    return( real_gain );
/*MT6256RF*/ }
/*MT6256RF*/
   #if IS_W_CANCELLATION_SUPPORT
/*MT6256RF*/ unsigned short   L1D_RF_FindGainStep( unsigned long gain_setting, FrequencyBand rf_band )
/*MT6256RF*/ {
/*MT6256RF*/    int bit_value, shift_value;
/*MT6256RF*/    unsigned short left_idx, right_idx, mid_idx, idx;
/*MT6256RF*/
/*MT6256RF*/    shift_value = (gain_setting>>6) & 0x1;
/*MT6256RF*/    bit_value = gain_setting & 0x3F;
/*MT6256RF*/    left_idx = 0;
/*MT6256RF*/    right_idx = sizeof(GAIN_STEP_TABLE)/sizeof(int)-1;
/*MT6256RF*/
/*MT6256RF*/    while( left_idx < right_idx )
/*MT6256RF*/    {
/*MT6256RF*/       mid_idx = (left_idx + right_idx) >> 1;
/*MT6256RF*/
/*MT6256RF*/       if( bit_value <= GAIN_STEP_TABLE[mid_idx])
/*MT6256RF*/          right_idx = mid_idx;
/*MT6256RF*/       else
/*MT6256RF*/          left_idx = mid_idx + 1;
/*MT6256RF*/    }
/*MT6256RF*/
/*MT6256RF*/    idx = right_idx;
/*MT6256RF*/
/*MT6256RF*/    if( shift_value == 1 )
/*MT6256RF*/       return (idx + 4);
/*MT6256RF*/    else
/*MT6256RF*/       return (idx);
/*MT6256RF*/ }
/*MT6256RF*/
   #endif
#endif

#if IS_RF_MT6251RF || IS_RF_MT6255RF
/*MT6251RF*/
/*MT6251RF*/ #define  GAIN_STEP               6
/*MT6251RF*/ #define  PVOFSL                  34
/*MT6251RF*/ #define  PVOFSH                  34
   #if IS_RF_MT6255RF
/*MT6251RF*/ #define  INSERTION_LOSS         (2*(PWRRES))  //Insertion loss is 2dB
   #else
/*MT6251RF*/ #define  INSERTION_LOSS         (0*(PWRRES))  //Insertion loss is 0dB
   #endif
/*MT6251RF*/ #define  RF_GSM850_MAXGAIN      (( 62-PVOFSL )*(PWRRES))
/*MT6251RF*/ #define  RF_GSM850_MINGAIN      ((  0-PVOFSL )*(PWRRES))
/*MT6251RF*/ #define  RF_GSM_MAXGAIN         (( 62-PVOFSL )*(PWRRES))
/*MT6251RF*/ #define  RF_GSM_MINGAIN         ((  0-PVOFSL )*(PWRRES))
/*MT6251RF*/ #define  RF_DCS_MAXGAIN         (( 62-PVOFSH )*(PWRRES))
/*MT6251RF*/ #define  RF_DCS_MINGAIN         ((  0-PVOFSH )*(PWRRES))
/*MT6251RF*/ #define  RF_PCS_MAXGAIN         (( 62-PVOFSH )*(PWRRES))
/*MT6251RF*/ #define  RF_PCS_MINGAIN         ((  0-PVOFSH )*(PWRRES))
/*MT6251RF*/
/*MT6251RF*/ /* GSM850....................................................................*/
/*MT6251RF*/
/*MT6251RF*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*MT6251RF*/ {  {  GBOUND(( 32-PVOFSL ),( 22-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), 0x6000040 },
/*MT6251RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  0-PVOFSL ) ), 0x6000000 },
/*MT6251RF*/ };
/*MT6251RF*/
/*MT6251RF*/ /* GSM900....................................................................*/
/*MT6251RF*/
/*MT6251RF*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*MT6251RF*/ {  {  GBOUND(( 32-PVOFSL ),( 22-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), 0x6000040 },
/*MT6251RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  0-PVOFSL ) ), 0x6000000 },
/*MT6251RF*/ };
/*MT6251RF*/
/*MT6251RF*/ /* DCS1800...................................................................*/
/*MT6251RF*/
/*MT6251RF*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2] =
/*MT6251RF*/ {  {  GBOUND(( 32-PVOFSL ),( 22-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), 0x6000040 },
/*MT6251RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  0-PVOFSL ) ), 0x6000000 },
/*MT6251RF*/ };
/*MT6251RF*/
/*MT6251RF*/ /* PCS1900...................................................................*/
/*MT6251RF*/
/*MT6251RF*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2] =
/*MT6251RF*/ {  {  GBOUND(( 32-PVOFSL ),( 22-PVOFSL ) ), GC_A( 0,( 32-PVOFSL ) ), 0x6000040 },
/*MT6251RF*/    {  GBOUND((  0-PVOFSL ),(  0-PVOFSL ) ), GC_A( 0,(  0-PVOFSL ) ), 0x6000000 },
/*MT6251RF*/ };
/*MT6251RF*/
/*MT6251RF*/ /*...........................................................................*/
/*MT6251RF*/
/*MT6251RF*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MT6251RF*/ {  {                   0,                      0    }, /*#FrequencyBand400  */
/*MT6251RF*/    { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MT6251RF*/    { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MT6251RF*/    { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MT6251RF*/    { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MT6251RF*/ };
/*MT6251RF*/
/*MT6251RF*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MT6251RF*/ {  0,                                              /*#FrequencyBand400  */
/*MT6251RF*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*MT6251RF*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*MT6251RF*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*MT6251RF*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*MT6251RF*/ };
/*MT6251RF*/
/*MT6251RF*/ const  int  GAIN_STEP_TABLE[] =
/*MT6251RF*/ { 10, 18, 26, 34, 42, 45, 53 };   //gain step for high/low LNA gain
/*MT6251RF*/                                   //Low LNA gain  : { 10, 18, 26, 34, 42         }
/*MT6251RF*/                                   //High LNA gain : {     18, 26, 34, 42, 45, 53 }
/*MT6251RF*/
/*MT6251RF*/ /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
/*MT6251RF*/
/*MT6251RF*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6251RF*/ {  int   max_gain, min_gain, real_gain;
/*MT6251RF*/    const int*    d32ptr;
/*MT6251RF*/    const sL1DAGCDATA*  agcptr;
/*MT6251RF*/    long  setting;
/*MT6251RF*/    int   bit_no, gain_step, idx_shift_value;
/*MT6251RF*/
/*MT6251RF*/    /* evaluate the range of available gain */
/*MT6251RF*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MT6251RF*/    max_gain = *d32ptr++;
/*MT6251RF*/    min_gain = *d32ptr;
/*MT6251RF*/
/*MT6251RF*/    /* clipping the request gain to the avialable gain */
/*MT6251RF*/    if( request_gain>=max_gain )
/*MT6251RF*/    {  request_gain = max_gain;  }
/*MT6251RF*/    else  if( request_gain<=min_gain )
/*MT6251RF*/    {  request_gain = min_gain;  }
/*MT6251RF*/
/*MT6251RF*/    /* evaluate the real gain setting */
/*MT6251RF*/    agcptr = AGC_TABLE[rf_band];
/*MT6251RF*/    idx_shift_value = 1;  //the lowest gain step of high LNA gain case is 18
/*MT6251RF*/    if( request_gain < agcptr->pos_gain )
/*MT6251RF*/    {  agcptr++;
/*MT6251RF*/       idx_shift_value = 0;
/*MT6251RF*/    }
/*MT6251RF*/    {
/*MT6251RF*/       bit_no = BIT_NO( request_gain, agcptr->A, GC_B );
/*MT6251RF*/       gain_step = GAIN_STEP_TABLE[bit_no+idx_shift_value];  //Use bit_no to choose gain step
/*MT6251RF*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B ) - INSERTION_LOSS;
/*MT6251RF*/       setting   = agcptr->setting + gain_step;
/*MT6251RF*/       if( gain_step == 10 )
/*MT6251RF*/       {
/*MT6251RF*/          setting += 128;              // The LNA setting of the lowest gain is 10, not 00
/*MT6251RF*/          real_gain = -259;            // The real gain of lowest gain has 1.6dB offset, (-34+1.6)*8=-259
/*MT6251RF*/       }
/*MT6251RF*/    }
/*MT6251RF*/
/*MT6251RF*/    *gain_setting = setting;
/*MT6251RF*/    return( real_gain );
/*MT6251RF*/ }
/*MT6251RF*/
   #if IS_W_CANCELLATION_SUPPORT
/*MT6251RF*/ unsigned short   L1D_RF_FindGainStep( unsigned long gain_setting, FrequencyBand rf_band )
/*MT6251RF*/ {
/*MT6251RF*/    int bit_value, shift_value;
/*MT6251RF*/    unsigned short left_idx, right_idx, mid_idx, idx;
/*MT6251RF*/
/*MT6251RF*/    shift_value = (gain_setting>>6) & 0x1;
/*MT6251RF*/    bit_value = gain_setting & 0x3F;
/*MT6251RF*/    left_idx = 0;
/*MT6251RF*/    right_idx = sizeof(GAIN_STEP_TABLE)/sizeof(int)-1;
/*MT6251RF*/
/*MT6251RF*/    while( left_idx < right_idx )
/*MT6251RF*/    {
/*MT6251RF*/       mid_idx = (left_idx + right_idx) >> 1;
/*MT6251RF*/
/*MT6251RF*/       if( bit_value <= GAIN_STEP_TABLE[mid_idx])
/*MT6251RF*/          right_idx = mid_idx;
/*MT6251RF*/       else
/*MT6251RF*/          left_idx = mid_idx + 1;
/*MT6251RF*/    }
/*MT6251RF*/
/*MT6251RF*/    idx = right_idx;
/*MT6251RF*/
/*MT6251RF*/    if( shift_value == 1 )
/*MT6251RF*/       return (idx + 4);
/*MT6251RF*/    else
/*MT6251RF*/       return (idx);
/*MT6251RF*/ }
/*MT6251RF*/
   #endif
#endif

#if IS_RF_SKY74045
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_AERO2
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_SKY74137
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_GRF6201
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_IRFS3001
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

#if IS_RF_AD6548
/*AD6548*/ #define  GAIN_STEP              3
/*AD6548*/
/*AD6548*/ #define  PVOFSL                 (-33)
/*AD6548*/ #define  PVOFSH                 (-34)
/*AD6548*/
/*AD6548*/ #define  RF_GSM850_MAXGAIN      ((80+PVOFSL)*(PWRRES))
/*AD6548*/ #define  RF_GSM850_MINGAIN      (( 3+PVOFSL)*(PWRRES))
/*AD6548*/ #define  RF_GSM_MAXGAIN         RF_GSM850_MAXGAIN
/*AD6548*/ #define  RF_GSM_MINGAIN         RF_GSM850_MINGAIN
/*AD6548*/ #define  RF_DCS_MAXGAIN         ((80+PVOFSH)*(PWRRES))
/*AD6548*/ #define  RF_DCS_MINGAIN         (( 3+PVOFSH)*(PWRRES))
/*AD6548*/ #define  RF_PCS_MAXGAIN         RF_DCS_MAXGAIN
/*AD6548*/ #define  RF_PCS_MINGAIN         RF_DCS_MINGAIN
/*AD6548*/
/*AD6548*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*AD6548*/ { {GBOUND( (23+PVOFSL),(21+PVOFSL) ), GC_A(2,23+PVOFSL), 0x000005 },
/*AD6548*/   {GBOUND( ( 3+PVOFSL),( 3+PVOFSL) ), GC_A(2, 3+PVOFSL), 0x001005 },
/*AD6548*/ };
/*AD6548*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*AD6548*/ { {GBOUND( (23+PVOFSL),(21+PVOFSL) ), GC_A(2,23+PVOFSL), 0x000005 },
/*AD6548*/   {GBOUND( ( 3+PVOFSL),( 3+PVOFSL) ), GC_A(2, 3+PVOFSL), 0x001005 },
/*AD6548*/ };
/*AD6548*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2]=
/*AD6548*/ { {GBOUND( (23+PVOFSH),(21+PVOFSH) ), GC_A(2,23+PVOFSH), 0x000005 },
/*AD6548*/   {GBOUND( ( 3+PVOFSH),( 3+PVOFSH) ), GC_A(2, 3+PVOFSH), 0x001005 },
/*AD6548*/ };
/*AD6548*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2]=
/*AD6548*/ { {GBOUND( (23+PVOFSH),(21+PVOFSH) ), GC_A(2,23+PVOFSH), 0x000005 },
/*AD6548*/   {GBOUND( ( 3+PVOFSH),( 3+PVOFSH) ), GC_A(2, 3+PVOFSH), 0x001005 },
/*AD6548*/ };
/*AD6548*/
/*AD6548*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*AD6548*/ { {                   0,                      0    }, /*#FrequencyBand400  */
/*AD6548*/   { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*AD6548*/   { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*AD6548*/   { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*AD6548*/   { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*AD6548*/ };
/*AD6548*/
/*AD6548*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*AD6548*/ {  0,                                              /*#FrequencyBand400  */
/*AD6548*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*AD6548*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*AD6548*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*AD6548*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*AD6548*/ };
/*AD6548*/
/*AD6548*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*AD6548*/ {  int   max_gain, min_gain, real_gain;
/*AD6548*/    const int*    d32ptr;
/*AD6548*/    const sL1DAGCDATA*  agcptr;
/*AD6548*/    long  setting;
/*AD6548*/    int   bit_no;
/*AD6548*/
/*AD6548*/    /* evaluate the range of available gain */
/*AD6548*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*AD6548*/    max_gain = *d32ptr++;
/*AD6548*/    min_gain = *d32ptr;
/*AD6548*/
/*AD6548*/    /* clipping the request gain to the avialable gain */
/*AD6548*/    if( request_gain>=max_gain )
/*AD6548*/    {  request_gain = max_gain;  }
/*AD6548*/    else  if( request_gain<=min_gain )
/*AD6548*/    {  request_gain = min_gain;  }
/*AD6548*/
/*AD6548*/    /* evaluate the real gain setting */
/*AD6548*/    agcptr = AGC_TABLE[rf_band];
/*AD6548*/    if( request_gain < agcptr->pos_gain )
/*AD6548*/    {  agcptr++;
/*AD6548*/    }
/*AD6548*/    {  bit_no    = BIT_NO( request_gain, agcptr->A, GC_B );
/*AD6548*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B );
/*AD6548*/       setting   = agcptr->setting | (bit_no<<7);
/*AD6548*/    }
/*AD6548*/
/*AD6548*/    *gain_setting = setting;
/*AD6548*/    return( real_gain );
/*AD6548*/ }
/*AD6548*/
#endif

#if IS_RF_AD6546
/*AD6546*/ #define  GAIN_STEP              3
/*AD6546*/
/*AD6546*/ #define  PVOFSL                 (-33)
/*AD6546*/ #define  PVOFSH                 (-33)
/*AD6546*/
/*AD6546*/ #define  RF_GSM850_MAXGAIN      ((74+PVOFSL)*(PWRRES))
/*AD6546*/ #define  RF_GSM850_MINGAIN      (( 3+PVOFSL)*(PWRRES))
/*AD6546*/ #define  RF_GSM_MAXGAIN         RF_GSM850_MAXGAIN
/*AD6546*/ #define  RF_GSM_MINGAIN         RF_GSM850_MINGAIN
/*AD6546*/ #define  RF_DCS_MAXGAIN         ((74+PVOFSH)*(PWRRES))
/*AD6546*/ #define  RF_DCS_MINGAIN         (( 3+PVOFSH)*(PWRRES))
/*AD6546*/ #define  RF_PCS_MAXGAIN         RF_DCS_MAXGAIN
/*AD6546*/ #define  RF_PCS_MINGAIN         RF_DCS_MINGAIN
/*AD6546*/
/*AD6546*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[2] =
/*AD6546*/ { {GBOUND( (23+PVOFSL),(21+PVOFSL) ), GC_A(2,23+PVOFSL), 0x000005 },
/*AD6546*/   {GBOUND( ( 3+PVOFSL),( 3+PVOFSL) ), GC_A(2, 3+PVOFSL), 0x001005 },
/*AD6546*/ };
/*AD6546*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[2] =
/*AD6546*/ { {GBOUND( (23+PVOFSL),(21+PVOFSL) ), GC_A(2,23+PVOFSL), 0x000005 },
/*AD6546*/   {GBOUND( ( 3+PVOFSL),( 3+PVOFSL) ), GC_A(2, 3+PVOFSL), 0x001005 },
/*AD6546*/ };
/*AD6546*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[2]=
/*AD6546*/ { {GBOUND( (23+PVOFSH),(21+PVOFSH) ), GC_A(2,23+PVOFSH), 0x000005 },
/*AD6546*/   {GBOUND( ( 3+PVOFSH),( 3+PVOFSH) ), GC_A(2, 3+PVOFSH), 0x001005 },
/*AD6546*/ };
/*AD6546*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[2]=
/*AD6546*/ { {GBOUND( (23+PVOFSH),(21+PVOFSH) ), GC_A(2,23+PVOFSH), 0x000005 },
/*AD6546*/   {GBOUND( ( 3+PVOFSH),( 3+PVOFSH) ), GC_A(2, 3+PVOFSH), 0x001005 },
/*AD6546*/ };
/*AD6546*/
/*AD6546*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*AD6546*/ { {                   0,                      0    }, /*#FrequencyBand400  */
/*AD6546*/   { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*AD6546*/   { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*AD6546*/   { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*AD6546*/   { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*AD6546*/ };
/*AD6546*/
/*AD6546*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*AD6546*/ {  0,                                              /*#FrequencyBand400  */
/*AD6546*/    AGC_TABLE_GSM850,                               /* FrequencyBand850  */
/*AD6546*/    AGC_TABLE_GSM900,                               /* FrequencyBand900  */
/*AD6546*/    AGC_TABLE_DCS1800,                              /* FrequencyBand1800 */
/*AD6546*/    AGC_TABLE_PCS1900,                              /* FrequencyBand1900 */
/*AD6546*/ };
/*AD6546*/
/*AD6546*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*AD6546*/ {
/*AD6546*/    int   max_gain, min_gain, real_gain;
/*AD6546*/    const int*    d32ptr;
/*AD6546*/    const sL1DAGCDATA*  agcptr;
/*AD6546*/    long  setting;
/*AD6546*/    int   bit_no;
/*AD6546*/
/*AD6546*/    /* evaluate the range of available gain */
/*AD6546*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*AD6546*/    max_gain = *d32ptr++;
/*AD6546*/    min_gain = *d32ptr;
/*AD6546*/
/*AD6546*/    /* clipping the request gain to the avialable gain */
/*AD6546*/    if( request_gain>=max_gain )
/*AD6546*/    {  request_gain = max_gain;  }
/*AD6546*/    else  if( request_gain<=min_gain )
/*AD6546*/    {  request_gain = min_gain;  }
/*AD6546*/
/*AD6546*/    /* evaluate the real gain setting */
/*AD6546*/    agcptr = AGC_TABLE[rf_band];
/*AD6546*/    if( request_gain < agcptr->pos_gain )
/*AD6546*/    {  agcptr++;
/*AD6546*/    }
/*AD6546*/    {  bit_no    = BIT_NO( request_gain, agcptr->A, GC_B );
/*AD6546*/       real_gain = REAL_GAIN( bit_no, agcptr->A, GC_B );
/*AD6546*/       setting   = agcptr->setting | (bit_no<<7);
/*AD6546*/    }
/*AD6546*/
/*AD6546*/    *gain_setting = setting;
/*AD6546*/    return( real_gain );
/*AD6546*/ }
/*AD6546*/
#endif

#if IS_RF_MT6162
/*MT6162*/ #define  GAIN_STEP              3
/*MT6162*/
/*MT6162*/ #define  PVOFSL                 (34)
/*MT6162*/ #define  PVOFSH                 (34)
/*MT6162*/
/*MT6162*/ #define  RF_GSM850_MAXGAIN      ((66-PVOFSL)*(PWRRES))
/*MT6162*/ #define  RF_GSM850_MINGAIN      (( 9-PVOFSL)*(PWRRES))
/*MT6162*/ #define  RF_GSM_MAXGAIN         RF_GSM850_MAXGAIN
/*MT6162*/ #define  RF_GSM_MINGAIN         RF_GSM850_MINGAIN
/*MT6162*/ #define  RF_DCS_MAXGAIN         ((66-PVOFSH)*(PWRRES))
/*MT6162*/ #define  RF_DCS_MINGAIN         (( 9-PVOFSH)*(PWRRES))
/*MT6162*/ #define  RF_PCS_MAXGAIN         RF_DCS_MAXGAIN
/*MT6162*/ #define  RF_PCS_MINGAIN         RF_DCS_MINGAIN
/*MT6162*/
/*MT6162*/ const  sL1DAGCDATA  AGC_TABLE_GSM850[3] =
/*MT6162*/ { {GBOUND( (54-PVOFSL),(51-PVOFSL) ), GC_A(8,54-PVOFSL), 0x00300 },
/*MT6162*/   {GBOUND( (36-PVOFSL),(33-PVOFSL) ), GC_A(5,36-PVOFSL), 0x00200 },
/*MT6162*/   {GBOUND( ( 9-PVOFSL),( 9-PVOFSL) ), GC_A(0, 9-PVOFSL), 0x00100 },
/*MT6162*/ };
/*MT6162*/ const  sL1DAGCDATA  AGC_TABLE_GSM900[3] =
/*MT6162*/ { {GBOUND( (54-PVOFSL),(51-PVOFSL) ), GC_A(8,54-PVOFSL), 0x00300 },
/*MT6162*/   {GBOUND( (36-PVOFSL),(33-PVOFSL) ), GC_A(5,36-PVOFSL), 0x00200 },
/*MT6162*/   {GBOUND( ( 9-PVOFSL),( 9-PVOFSL) ), GC_A(0, 9-PVOFSL), 0x00100 },
/*MT6162*/ };
/*MT6162*/ const  sL1DAGCDATA  AGC_TABLE_DCS1800[3]=
/*MT6162*/ { {GBOUND( (54-PVOFSH),(51-PVOFSH) ), GC_A(8,54-PVOFSH), 0x00300 },
/*MT6162*/   {GBOUND( (36-PVOFSH),(33-PVOFSH) ), GC_A(5,36-PVOFSH), 0x00200 },
/*MT6162*/   {GBOUND( ( 9-PVOFSH),( 9-PVOFSH) ), GC_A(0, 9-PVOFSH), 0x00100 },
/*MT6162*/ };
/*MT6162*/ const  sL1DAGCDATA  AGC_TABLE_PCS1900[3]=
/*MT6162*/ { {GBOUND( (54-PVOFSH),(51-PVOFSH) ), GC_A(8,54-PVOFSH), 0x00300 },
/*MT6162*/   {GBOUND( (36-PVOFSH),(33-PVOFSH) ), GC_A(5,36-PVOFSH), 0x00200 },
/*MT6162*/   {GBOUND( ( 9-PVOFSH),( 9-PVOFSH) ), GC_A(0, 9-PVOFSH), 0x00100 },
/*MT6162*/ };
/*MT6162*/
/*MT6162*/ const  sL1DGAINRANGE GAIN_RANGE_TABLE[] =
/*MT6162*/ { {                   0,                      0    }, /* FrequencyBand400  */
/*MT6162*/   { (int)RF_GSM850_MAXGAIN, (int)RF_GSM850_MINGAIN }, /* FrequencyBand850  */
/*MT6162*/   { (int)RF_GSM_MAXGAIN,    (int)RF_GSM_MINGAIN    }, /* FrequencyBand900  */
/*MT6162*/   { (int)RF_DCS_MAXGAIN,    (int)RF_DCS_MINGAIN    }, /* FrequencyBand1800 */
/*MT6162*/   { (int)RF_PCS_MAXGAIN,    (int)RF_PCS_MINGAIN    }, /* FrequencyBand1900 */
/*MT6162*/ };
/*MT6162*/
/*MT6162*/ const  sL1DAGCDATA *const  AGC_TABLE[] =
/*MT6162*/ {  0,                                                 /* FrequencyBand400  */
/*MT6162*/    AGC_TABLE_GSM850,                                  /* FrequencyBand850  */
/*MT6162*/    AGC_TABLE_GSM900,                                  /* FrequencyBand900  */
/*MT6162*/    AGC_TABLE_DCS1800,                                 /* FrequencyBand1800 */
/*MT6162*/    AGC_TABLE_PCS1900,                                 /* FrequencyBand1900 */
/*MT6162*/ };
/*MT6162*/
/*MT6162*/ int   L1D_RF_GetGainSetting( int rf_band, int arfcn, int request_gain, long *gain_setting )
/*MT6162*/ {
/*MT6162*/    int   max_gain, min_gain, real_gain;
/*MT6162*/    const int*    d32ptr;
/*MT6162*/    const sL1DAGCDATA*  agcptr;
/*MT6162*/    sLNAGAINOFFSET* lnaptr;
/*MT6162*/    sAGCGAINOFFSET* ofsptr;
/*MT6162*/    long  setting;
/*MT6162*/    int   bit_no, idx, lna_path_loss;
/*MT6162*/ #if IS_RF_RX_DCOC_SUPPORT
/*MT6162*/    int   biquad_gain;
/*MT6162*/    signed short  dc_offset_i, dc_offset_q;
/*MT6162*/ #endif
/*MT6162*/
/*MT6162*/    /* evaluate the range of available gain */
/*MT6162*/    d32ptr  = (int*)&(GAIN_RANGE_TABLE[rf_band]);
/*MT6162*/    max_gain = *d32ptr++;
/*MT6162*/    min_gain = *d32ptr;
/*MT6162*/
/*MT6162*/    /* clipping the request gain to the avialable gain */
/*MT6162*/    if( request_gain>=max_gain )
/*MT6162*/    {  request_gain = max_gain;  }
/*MT6162*/    else  if( request_gain<=min_gain )
/*MT6162*/    {  request_gain = min_gain;  }
/*MT6162*/
/*MT6162*/    /* choose the LNA path loss */
/*MT6162*/    lnaptr = LNA_PATHLOSS_TABLE[rf_band];
/*MT6162*/    /* get the arfcn section */
/*MT6162*/    ofsptr = AGC_PATHLOSS_TABLE[rf_band];
/*MT6162*/    while( ofsptr->max_arfcn>=0 )
/*MT6162*/    {  if( arfcn <= ofsptr->max_arfcn )
/*MT6162*/       {  break;  }
/*MT6162*/       ofsptr++;
/*MT6162*/       lnaptr++;
/*MT6162*/    }
/*MT6162*/
/*MT6162*/    /* evaluate the real gain setting */
/*MT6162*/    agcptr = AGC_TABLE[rf_band];
/*MT6162*/    while( request_gain < agcptr->pos_gain )
/*MT6162*/    {  agcptr++;
/*MT6162*/    }
/*MT6162*/    {  idx       = (int)(((agcptr->setting)>>8)&0x3);
/*MT6162*/       if( idx==3 )      /* LNA_High */
/*MT6162*/       {  lna_path_loss = 0;  }
/*MT6162*/       else if( idx==2 ) /* LNA_Middle */
/*MT6162*/       {  lna_path_loss = (l1d_rf2.is_fhc) ? (0) : ((int)(lnaptr->gain_offset_middle-ofsptr->gain_offset));  }
/*MT6162*/       else              /* LNA_Low */
/*MT6162*/       {  lna_path_loss = (l1d_rf2.is_fhc) ? (0) : ((int)(lnaptr->gain_offset_low-ofsptr->gain_offset));     }
/*MT6162*/
/*MT6162*/       bit_no    = BIT_NO( (request_gain+lna_path_loss), agcptr->A, GC_B );
/*MT6162*/       real_gain = -lna_path_loss+REAL_GAIN( bit_no, agcptr->A, GC_B );
/*MT6162*/       setting   = agcptr->setting | (bit_no&0xF);
/*MT6162*/    }
/*MT6162*/
/*MT6162*/    *gain_setting = setting;
/*MT6162*/
/*MT6162*/    l1d_rf2.rx_dc_offset = 0;
/*MT6162*/ #if IS_RF_RX_DCOC_SUPPORT
/*MT6162*/    biquad_gain = BBGAIN_DECODE_TABLE[(setting&0xF)][0];
/*MT6162*/    dc_offset_i = l1d_rf2.rx_dc_offset_i[rf_band-1][biquad_gain/6];
/*MT6162*/    dc_offset_q = l1d_rf2.rx_dc_offset_q[rf_band-1][biquad_gain/6];
/*MT6162*/    #if IS_RF_RX_DCOC_WITH_PRECISION_IMPROVEMENT
/*MT6162*/    if( dc_offset_i>0 )
/*MT6162*/       dc_offset_i = (  ( dc_offset_i+(1<<(ALPHA_FILTER_SCALE-1)))>>ALPHA_FILTER_SCALE  );
/*MT6162*/    else
/*MT6162*/       dc_offset_i = (-((-dc_offset_i+(1<<(ALPHA_FILTER_SCALE-1)))>>ALPHA_FILTER_SCALE));
/*MT6162*/    if( dc_offset_q>0 )
/*MT6162*/       dc_offset_q = (  ( dc_offset_q+(1<<(ALPHA_FILTER_SCALE-1)))>>ALPHA_FILTER_SCALE  );
/*MT6162*/    else
/*MT6162*/       dc_offset_q = (-((-dc_offset_q+(1<<(ALPHA_FILTER_SCALE-1)))>>ALPHA_FILTER_SCALE));
/*MT6162*/    #endif /* IS_RF_RX_DCOC_WITH_PRECISION_IMPROVEMENT */
/*MT6162*/    l1d_rf2.rx_dc_offset = (unsigned long)(((dc_offset_q&0xFF)<<8)|(dc_offset_i&0xFF) );
/*MT6162*/ #endif
/*MT6162*/
/*MT6162*/    return( real_gain );
/*MT6162*/ }
/*MT6162*/
#endif

