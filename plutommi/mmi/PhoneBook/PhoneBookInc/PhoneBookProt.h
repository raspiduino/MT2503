/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/

/*******************************************************************************
 * Filename:
 * ---------
 *  PhoneBookProt.h
 *
 * Project:
 * --------
 *  MAUI
 *
 * Description:
 * ------------
 *  phone book application 
 *
 * Author:
 * -------
 * -------
 *
 *==============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!! 
 *------------------------------------------------------------------------------
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 * removed!
 *
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!! 
 *==============================================================================
 *******************************************************************************/
#ifndef _PHONEBOOKPROT_H
#define _PHONEBOOKPROT_H

#ifndef __RESOURCE_GEN_
#include "MMIDataType.h"
#include "CommonScreens.h"

#include <ctype.h>
#include "PhoneBookTypes.h"
#include "PhbSrvGprot.h"
#include "PhoneBookCore.h"

#ifdef __MMI_VCARD__
#include "vcard.h"
#endif

#include "mmi_frm_scenario_gprot.h"

/* auto add by kw_check begin */
#include "MMI_features.h"
#include "PhoneBookGprot.h"
#include "gui_data_types.h"
#include "kal_general_types.h"
#include "custom_phb_config.h"
#include "mmi_frm_events_gprot.h"
#include "wgui_categories_list.h"
#include "AlertScreen.h"
/* auto add by kw_check end */
#include "wgui_categories_search.h"
#ifdef __MMI_SNS_CONTACTS__
#include "SnsCuiGprot.h"
#include "Gdi_include.h"
#endif
#endif


#include "PhoneBookAppMem.h"

#ifndef __MMI_PHB_SLIM__
#define __MMI_PHB_SLIM__
#endif

#if defined(__MMI_PHB_SLIM__) 
	#ifndef __MMI_PHB_SLIM_NO_SAT__
    #define __MMI_PHB_SLIM_NO_SAT__
    #endif
	#ifndef __MMI_PHB_SLIM_NO_PREFERRED_STORAGE__
    #define __MMI_PHB_SLIM_NO_PREFERRED_STORAGE__
    #endif
#endif


#if defined(__MMI_PHB_USIM_SUPPORT__)
	#ifndef __MMI_PHB_USIM_GROUP_SUPPORT__
	#define __MMI_PHB_USIM_GROUP_SUPPORT__
	#endif
#endif
#if (defined(__MMI_PHB_USIM_GROUP_SUPPORT__) && defined(__MMI_PHB_GENERIC_MULTI_SELECT__))
	#ifndef __MMI_PHB_GROUP_ENHANCE__
	#define __MMI_PHB_GROUP_ENHANCE__
	#endif
#endif
#if defined(__MMI_PHB_USIM_GROUP_SUPPORT__)
	#ifndef __MMI_PHB_GROUP_MEMBER_MOVE_SUPPORT__
	#define __MMI_PHB_GROUP_MEMBER_MOVE_SUPPORT__
	#endif
#endif
#ifndef __MMI_PHB_SLIM_NEW__
#define __MMI_PHB_SLIM_NEW__
#endif

#define  PHB_NOTIFY_TIMEOUT         UI_POPUP_NOTIFYDURATION_TIME        /* phonebook notify time */

/* phonebook call picture enmu */
typedef enum
{
    MMI_PHB_IMAGE_NO_SELECT,                    /* No caller picture, use default. */
    MMI_PHB_IMAGE_FOR_ENTRY,                    /* caller picture for phonebook entry */
    MMI_PHB_IMAGE_SELECT_PATH,                  /* caller picture from select path for phb entry */
    MMI_PHB_IMAGE_CALLER_GROUP,                 /* caller picture for caller group */
    MMI_PHB_SWFLASH_SELECT_PATH,                /* caller picture from swflash */
    MMI_PHB_AVATAR_SELECT_PATH,                 /* caller picture from avata */
    MMI_PHB_IMAGE_LOCATION_ENUM_TOTAL           /* enmu total */
} mmi_phb_image_location_enum;

/* phonebook fte list toolbar enum */
typedef enum
{
    MMI_PHB_VOICE_CALL = 0,                     /* Button voice call */
//#if (defined(__OP01__) && defined(__MMI_VIDEO_TELEPHONY__))
#if defined(__MMI_VIDEO_TELEPHONY__)
    MMI_PHB_VIDEO_CALL,                         /* Button video call */
#endif
    MMI_PHB_SEND_MSG,                           /* Button send message */
    MMI_PHB_EDIT,                               /* Button edit contact */
    MMI_PHB_TOOLBAR_ENUM_TOTAL           /* enmu total */
} mmi_phb_fte_toolbar_enum;

#ifdef __MMI_SNS_CONTACTS__
/* phonebook sns tab list toolbar enum */
typedef enum
{
    MMI_PHB_SNS_FAVORITE = 0,                      /* Button add favorite */  
    MMI_PHB_SNS_MESSAGE,                       /* Button direct message */
    MMI_PHB_SNS_TAB_TOOLBAR_ENUM_TOTAL        /* enmu total */
} mmi_phb_sns_tab_toolbar_enum;
#endif

/* 
 * Define
 */

typedef struct mmi_phb_setting_cntx
{
    mmi_menu_id highlighted_menu_id;
    U16 prefer_storage;
#if defined(__MMI_PHB_SAVE_CONTACT_NOTIFY__)
    U16 save_contact_notify;
#endif /* __MMI_PHB_SAVE_CONTACT_NOTIFY__ */

#if defined(__MMI_INTELLIGENT_CALL_ALERT__)
    U8 speak_name;
#endif /* __MMI_INTELLIGENT_CALL_ALERT__ */
}mmi_phb_setting_cntx_struct;


#ifdef __MMI_MAINLCD_96X64__
typedef struct mmi_phb_setting_screen_cntx{
    // change name
    U16 temp_prefer_storage;
#if defined(__MMI_PHB_SAVE_CONTACT_NOTIFY__)
    U16 temp_save_contact_notify;
#endif
#if defined(__MMI_INTELLIGENT_CALL_ALERT__)
    U8 temp_speak_name;
#endif /* __MMI_INTELLIGENT_CALL_ALERT__*/
#if defined(__MMI_MULTI_VCARD__)
    U16 *contact_array;                     /* contact list content */
    U16 contact_count;                      /* contact count */
#endif
}mmi_phb_setting_screen_cntx_struct;
#endif

 
/**
 * PhoneBookList.c
 */
#if defined(__MMI_PHB_MULTI_OPERATION__)
extern MenucuiPtr g_mmi_phb_mark_several_build_op_func;
extern FunctionPtr g_mmi_phb_mark_several_entry_func;
#endif

extern void mmi_phb_launch_entry(void);
extern srv_phb_filter_struct *mmi_phb_list_build_filter(
                                  U8 storage,
                                  U32 field_filter,
                                  srv_phb_group_filter_struct* group_filter,
                                  U16* key_word,
                                  U16 input_mode);

extern void mmi_phb_list_free_filter(srv_phb_filter_struct *filter);


extern void mmi_phb_list_highlight_handler(S32 item_index);

#if defined(__MMI_PHB_GENERIC_MULTI_SELECT__)
extern void mmi_phb_generic_mark_several_select_number_pre_entry(void);
extern void mmi_phb_generic_mark_several_select_number_more(void);
extern void mmi_phb_entry_generic_mark_several_tab(void);
extern void mmi_phb_mark_several_select_field(MMI_ID group_id);
extern void mmi_phb_entry_generic_mark_several(void);
#endif

extern mmi_ret mmi_phb_choose_number_scrn_proc(mmi_event_struct *param);

extern void mmi_phb_entry_choose_field_ex(
                mmi_id sg_id,
                WCHAR *name,
                U8 storage,
                const U8* select_type,
                U32 field_mask,
                FunctionPtr entry_func,
                FunctionPtr lsk_func,
                FunctionPtr rsk_func);

extern void mmi_phb_entry_choose_field(
                mmi_id sg_id,
                U16 store_index,
                U32 field_type,
                FunctionPtr entry_func,
                FunctionPtr lsk_func,
                FunctionPtr rsk_func,
                FunctionPtr send_key_func,
                MMI_BOOL show_if_empty,
                MMI_BOOL start_primitive);

extern void mmi_phb_entry_list_ext(
                mmi_id sg_id,
                U16 entry_count,
                U16 str_title,
                U16 img_title,
                U16 str_lsk,
                U16 img_lsk,
                U16 scr_id,
                U16 img_csk,
                HighlightPtr highlight_ptr,
                FunctionPtr lsk_ptr,
                FunctionPtr csk_ptr,
                FunctionPtr send_key_ptr,
                FunctionPtr ip_key_ptr,
                GetAsyncItemFuncPtr item_ptr,
                GetAsyncHintFuncPtr hint_ptr,
                FunctionPtr entry_ptr,
                FunctionPtr exit_ptr,
                MMI_BOOL alpha_index);
#ifdef __MMI_MOBILE_SERVICE__
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif

extern void mmi_phb_list_select_entry(void);

/**
 * PhoneBookApp.c
 */
extern void mmi_phb_op_cntx_init(mmi_phb_op_action_cntx_struct *op_cntx);
extern void mmi_phb_op_start(mmi_phb_op_action_cntx_struct *op_action, MMI_ID group_id);

#ifdef __MMI_UNIFIED_COMPOSER__
extern void mmi_phb_uc_send_msg(CHAR* addr_p, MMI_ID group_id);
extern void mmi_phb_uc_send_msg_choose_entry(U16 store_index, MMI_ID group_id);

#else /* __MMI_UNIFIED_COMPOSER__ */

extern void mmi_phb_sms_send_data_for_entry(CHAR *number, MMI_ID group_id);
extern void mmi_phb_sms_send_data_choose_entry(U16 store_index, MMI_ID group_id);

#ifdef __MMI_MMS__
extern void mmi_phb_mms_send_data_for_entry(CHAR *number, MMI_ID group_id);
extern void mmi_phb_mms_send_data_choose_entry(U16 store_index, MMI_ID group_id);
#endif /* __MMI_MMS__ */
#endif /* __MMI_UNIFIED_COMPOSER__ */

#if defined(__MMI_INTELLIGENT_CALL_ALERT__)
extern void mmi_phb_speak_name_start(void);
extern void mmi_phb_speak_name_end(void);
#endif

#ifdef __MMI_PHB_DEFAULT_NUMBER__
extern void mmi_phb_dial_default_number_and_start_browser(void);
extern void mmi_phb_dial_default_number_and_start_browser_ex(U16 store_index, MMI_ID group_id);
#endif

extern void mmi_phb_dial_normal_call(void);
extern void mmi_phb_dial_ip_call(void);

extern void mmi_phb_entry_op_option(void);

#if defined(__MMI_PHB_MULTI_OPERATION__)
extern void mmi_phb_op_mark_several_cb(U16 *contact_array, U16 finish_count, U16 total_count, void *user_data);
#endif



#if defined(__MMI_PHB_BIRTHDAY_FIELD__)
#ifdef __MMI_BIRTHDAY_REMINDER__
extern void mmi_phb_single_op_extra_handle_bday(S32 result, U16 store_index);
#endif
#endif

extern void mmi_phb_op_save_contact_ex(void);

extern void mmi_phb_entry_op_save_contact_cancel(void);
extern void mmi_phb_entry_op_save_contact_confirm(void);
extern void mmi_phb_entry_op_view_entry_options(void);

#ifdef __MMI_SAVE_CONTACT_REPLACE__
extern void mmi_phb_entry_save_contact_opt_update_list(void);
extern void mmi_phb_entry_general_save_contact_option(void);
#endif

#ifdef __DM_LAWMO_SUPPORT__
extern void mmi_phb_dm_register_notify(void);
extern void mmi_phb_dm_delete_all_pre_req(void);
#endif

/**
 * PhoneBookEditor.c
 */ 
 
extern void mmi_phb_op_view_pre_entry(void);
extern U32 mmi_phb_get_field_mask_by_field_type(U8 field_type);
extern U8 mmi_phb_get_field_type_by_field_mask(U32 field_mask);
extern U16 mmi_phb_get_str_by_field_type(U8 field_type, U8 storage);
extern U16 mmi_phb_get_img_by_field_type(U8 field_type);
extern U16 mmi_phb_get_img_by_number_type(mmi_phb_num_type_enum number_type);


extern MMI_BOOL mmi_phb_op_check_pre_save(mmi_phb_contact_info_struct *contact, U8 storage, MMI_BOOL popup_error);
extern MMI_BOOL mmi_phb_check_valid_number(U16 *number, U8 storage);
#if 0
#if defined(__MMI_IMPS__) && defined(IMPS_WV13_ENHANCEMENT)
/* under construction !*/
#endif
#endif

#ifdef __MMI_URI_AGENT__
extern void mmi_phb_init_uri_agent_registration(void);
#endif

extern void mmi_phb_op_email_custom_function(void);



#ifdef __MMI_PHB_UI_IN_TABS__
extern void mmi_phb_edit_add_more_number(void);
#endif
#ifdef __MMI_PHB_USIM_SUPPORT__
extern U32 mmi_phb_get_usim_field_mask_by_field_mask(U32 field_mask,MMI_BOOL flag);
extern U32 mmi_phb_get_usim_field_mask_by_field_type(U8 field_type,MMI_BOOL flag);
extern MMI_BOOL mmi_phb_edit_usim_field_display(U8 field_type, U32 field_mask, U8 storage);
extern MMI_BOOL mmi_phb_check_usim_detail_ex(phb_storage_enum storage, U8 occr, phb_type_enum type);
#ifdef __MMI_PHB_OPTIONAL_FIELD__
extern U8 mmi_phb_get_usim_number_type(U32 field_mask);
#endif
#endif

/**
 * PhoneBookCallerRes.c
 */
extern void mmi_phb_contact_build_res(void);
extern void mmi_phb_contact_res_config(void);
extern void mmi_phb_contact_res_value_assign(
                mmi_id sg_id,
                mmi_phb_caller_res_struct *caller_res,
                mmi_phb_contact_info_struct *contact_cntx);
extern void mmi_phb_contact_res_value_save(
                mmi_phb_contact_info_struct *contact_cntx,
                mmi_phb_caller_res_struct *caller_res);

extern void mmi_phb_entry_image_view(void);
extern void mmi_phb_entry_image_option(void);

#if defined(__MMI_FILE_MANAGER__) && defined(__MMI_FILE_USEAS_SUPPORT__)
extern void mmi_phb_image_select_from_file_mamager(void);
#endif

#ifdef __MMI_PHB_UI_IN_TABS__
extern void mmi_phb_entry_choose_caller_ringtone(void);
#endif
extern void mmi_phb_ring_tone_highlight_hdlr(S32 ringToneIndex);

#if defined(__MMI_PHB_CALLER_VIDEO__)
extern void mmi_phb_entry_video_view(void);
extern void mmi_phb_entry_video_view_ext(MMI_ID group_id);
extern void mmi_phb_entry_choose_caller_video(void);
extern void mmi_phb_video_pre_entry_file_option(void);
#endif



/**
 * PhoneBookSetting.c
 */
extern void mmi_phb_setting_init(void);
extern U8 mmi_phb_get_speak_name(void);
extern U16 mmi_phb_get_preferred_storage(void);
#if defined( __MMI_PHB_SAVE_CONTACT_NOTIFY__)
extern U16 mmi_phb_get_save_contact_notify(void);
#endif

/**
 * PhoneBookUtil.c
 */
extern U32 mmi_phb_contact_build_field_mask(mmi_phb_contact_info_struct *contact);
extern void mmi_phb_truncate_number_field_to_max_len(U16 *ucs2_num_dest, U16 *ucs2_num_src, U16 number_length);
extern U32 mmi_phb_get_name_length(U8 storage);
extern void mmi_phb_contact_get_item_image(U16 store_index, U8** image_buffer1, U8** image_buffer2);
extern mmi_phb_contact_info_struct* mmi_phb_contact_get_contact(U16 store_index);
extern void mmi_phb_contact_free_contact(mmi_phb_contact_info_struct *contact);
extern void mmi_phb_contact_get_contact_info(U16 store_index, mmi_phb_contact_info_struct* contact);
extern srv_phb_contact_info_struct* mmi_phb_contact_build(mmi_phb_contact_info_struct *contact);
#ifdef __MMI_VCARD__
extern void mmi_phb_contact_mmi_to_vcard(mmi_phb_contact_info_struct *contact, mmi_vcard_field_data_struct *vcard);
#endif
extern void mmi_phb_contact_srv_to_mmi(srv_phb_contact_data_struct *srv_contact, mmi_phb_contact_info_struct *mmi_contact);
extern MMI_BOOL mmi_phb_check_storage_full(U8 storage, MMI_BOOL is_popup);
extern srv_phb_contact_info_struct *mmi_phb_get_contact_build_buffer(mmi_phb_contact_info_struct* contact);
extern void mmi_phb_get_contact_free_buffer(srv_phb_contact_info_struct *contact);


extern void mmi_phb_show_in_progress(mmi_id, U16);

extern void mmi_phb_entry_not_ready(U16 str_id);


#if defined(__MMI_PHB_BIRTHDAY_FIELD__)
extern void mmi_phb_bday_to_string(U16 *bday, U16 *pbYear, U16 *pbMon, U16 *pbDay, U16 b_year, U8 b_onth, U8 b_day);
#endif

/**
 * PhoneBookGroup.c
 */

#ifdef __MMI_PHB_UI_IN_TABS__
extern void mmi_phb_entry_group_list_tab(void);
#else
extern void mmi_phb_entry_group_list_non_tab(void);
#endif

/**
 * PhoneBookExtraNumber.c
 */
extern void mmi_phb_sos_list_init(void);
extern MMI_BOOL mmi_phb_check_extra_number_available(void);

extern void *mmi_phb_construct_group_editor(phb_storage_enum storage);
extern void mmi_phb_popup_display(UI_string_type text, mmi_event_notify_enum event_id);
extern void mmi_phb_popup_display_ext(MMI_STR_ID title_id, mmi_event_notify_enum event_id);
extern void mmi_phb_confirm_display(UI_string_type text, mmi_id parent_id, FuncPtr lsk_func, FuncPtr rsk_func, MMI_BOOL is_enable_csk);
extern void mmi_phb_confirm_display_ext(MMI_STR_ID title_id, mmi_id parent_id, FuncPtr lsk_func, FuncPtr rsk_func, MMI_BOOL is_enable_csk);
extern void mmi_phb_confirm_display_handle(mmi_alert_result_evt_struct *alert_result);

/*
 *Phonebook List Screen
 */
#ifdef __MMI_QWERTY_KEYPAD_SUPPORT__
extern MMI_BOOL mmi_phb_list_alpha_callback(S16 key_code, S16 key_type, U16 ucs2_value, U32 key_flag);
extern MMI_BOOL mmi_phb_list_alpha_callback_ext(S16 key_code, S16 key_type, U16 ucs2_value, U32 key_flag);
extern MMI_BOOL mmi_phb_list_alpha_callback_replace_existing(S16 key_code, S16 key_type, U16 ucs2_value, U32 key_flag);
#endif



#define IN_MMI_PHONEBOOKOPERATESINGLE_C

/*
 *Add New Entry
 */
extern void mmi_phb_op_add_pre_entry(mmi_phb_save_contact_cntx_struct *save_cntx);         /* Entry function for adding an entry */
extern void mmi_phb_op_add_new_entry_ext(MMI_ID group_id);


#ifdef __MMI_PHB_UI_IN_TABS__
extern mmi_ret mmi_phb_number_editor_proc(mmi_event_struct *evt);
#else
extern mmi_ret mmi_phb_sim_editor_proc(mmi_event_struct *evt);
extern mmi_ret mmi_phb_phone_editor_proc(mmi_event_struct *evt);
#endif

#if defined(__MMI_PHB_INFO_FIELD__)
extern MMI_BOOL mmi_phb_op_check_valid_url(CHAR* ucs2_url);
#endif

/* 
 *Entry Option - View entry
 */
extern void mmi_phb_view_entry_hdlr(mmi_phb_view_contact_cntx_struct *cntx, mmi_phb_op_action_enum op_action); 
extern void mmi_phb_entry_op_view_entry(mmi_scrn_essential_struct* scrn_data);


/*
 *  Entry Option - Edit entry
 */
extern void mmi_phb_view_contact_op_edit_entry_ext(void);
extern void mmi_phb_op_edit_pre_entry_ext(MMI_ID group_id);
#if !defined(__MMI_PHB_UI_IN_TABS__)
extern void mmi_phb_op_edit_highlight_hdlr(S32);
#endif

/* 
 *  Entry Option - Delete entry
 */

extern void mmi_phb_op_delete_update_index(U16 store_index);



/*
 *Entry Option - Process Image From File Manager.
 */


#if !(defined(LOW_COST_SUPPORT) && !(defined(__MMI_FILE_MANAGER__) && defined(__MMI_FILE_USEAS_SUPPORT__)))
extern void mmi_phb_entry_image_view_default_pic_ext(mmi_scrn_essential_struct *scrn_data);
#endif
extern void mmi_phb_edit_option_image_highlight_hdlr(mmi_id menu_id);


#if defined(__MMI_FILE_MANAGER__) && defined(__MMI_FILE_USEAS_SUPPORT__)
extern BOOL mmi_phb_image_check_image_file(U16 store_index);
extern void mmi_phb_image_view_from_phb_folder(mmi_scrn_essential_struct *scrn_data);
extern void mmi_phb_image_select_from_file_mamager(void);
extern void mmi_phb_image_select_from_file_mamager_done(void);
#if defined(__MMI_IMAGE_CLIP_CUI__) && defined(__MMI_PHB_PHOTO_STICKER_SUPPORT__)
extern void mmi_phb_clip_image_finish(WCHAR* file_path);
#endif

extern BOOL mmi_phb_image_update_by_index(U16);
extern void mmi_phb_image_delete_by_index(U16);
extern BOOL mmi_phb_image_duplicate_by_index(U16 dst_record, U16 src_record);

#if defined(__MMI_CAMCORDER__) || defined(__MMI_CAMERA__)
extern void mmi_phb_image_select_from_camera(void);
#endif/* defined(__MMI_CAMCORDER__) || defined(__MMI_CAMERA__) */

#endif /* defined(__MMI_FILE_MANAGER__) && defined(__MMI_FILE_USEAS_SUPPORT__) */ 

#if defined(__MMI_FILE_MANAGER__)
extern MMI_BOOL mmi_phb_image_check_valid_image(CHAR *path, MMI_BOOL auto_resize);
extern void mmi_phb_image_preview_callback(S32 result);
extern void mmi_phb_image_init_folder(void);
#endif /* defined(__MMI_FILE_MANAGER__) */ 

#define MMI_PHB_INCOMING_CALL_VIDEO
#if defined(__MMI_PHB_CALLER_VIDEO__)
extern void mmi_phb_video_init_data_store(void);
extern void mmi_phb_video_highlight_hdlr(S32 index);

extern void mmi_phb_entry_video_file_option(void);

extern void mmi_phb_highlight_video_setting(void);
extern void mmi_phb_hint_video_setting(U16 index);
extern void mmi_phb_highlight_video_file_view(void);
extern void mmi_phb_highlight_video_file_select(void);
extern void mmi_phb_video_malloc_buf(void);
extern void mmi_phb_video_free_buf(void);
extern void mmi_phb_video_select_from_file_mamager(void);
extern void mmi_phb_video_select_from_file_mamager_done(void);
extern void mmi_phb_highlight_video_file_delete(void);
extern void mmi_phb_entry_video_default_option(void);
extern void mmi_phb_video_pre_entry_file_option(void);
extern void mmi_phb_exit_video_view(void);
extern void mmi_phb_video_view_from_default(mmi_scrn_essential_struct *scrn_data);
extern void mmi_phb_video_view_from_file(mmi_scrn_essential_struct *scrn_data);
extern void mmi_phb_video_delete_file_reference(MMI_ID group_id);
extern void mmi_phb_entry_video_audio_option(MMI_ID group_id);
extern U16 mmi_phb_video_get_id_by_index(U16 store_index);
extern BOOL mmi_phb_video_get_path_by_index(U16 store_index);
extern void mmi_phb_video_delete_by_index(U16 store_index);
extern BOOL mmi_phb_video_duplicate_by_index(U16 dest_index, U16 src_index);
extern BOOL mmi_phb_video_update_by_index(U16 store_index);
extern U16 mmi_phb_video_update_by_index_for_path(U16 original_id, BOOL *update_result);
extern MMI_BOOL mmi_phb_video_check_data_space(CHAR *path);
#if 0
#ifdef __MMI_SWFLASH__
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif
#endif

//#ifndef __MMI_PHB_UI_IN_TABS__
extern void mmi_phb_edit_option_video_highlight_hdlr(mmi_id menu_gid);
//#endif

#endif /* defined(__MMI_PHB_CALLER_VIDEO__) */ 

#if defined(__MMI_PHB_BIRTHDAY_FIELD__)
extern void mmi_phb_util_clear_bday_buffer(void);
extern void mmi_phb_bday_set_changed(void);
extern void mmi_phb_bday_read_data_to_buff(U16 store_index);
extern void mmi_phb_bday_delete_field(U16 store_index);
extern void mmi_phb_bday_duplicate_field(U16 store_index, U16 src_store_index);
#endif /* defined(__MMI_PHB_BIRTHDAY_FIELD__) */ 
#if defined(__MMI_PHB_INFO_FIELD__)
extern void mmi_phb_info_delete_field(U16 store_index);
extern void mmi_phb_info_update_field(U16 store_index);
#endif 
#if 0
#if defined(__MMI_IMPS__) || defined(__MMI_PHB_POC_FIELD__) || defined(__MMI_VOIP__)
/* under construction !*/
#endif 
#else
#if defined(__MMI_PHB_POC_FIELD__)
extern void mmi_phb_service_delete_field(U16 store_index);
#endif 
#endif 

#define IN_MMI_PHONEBOOKOPERATEMASS_C


/*
 * AT command
 */
extern void mmi_phb_at_cmd_edit(void *);
extern void mmi_phb_at_cmd_add(void *);
extern void mmi_phb_at_cmd_delete(void *);
extern void mmi_phb_at_cmd_delete_all(void *);

/*
 *  Entry Option - Common Util
 */
extern void mmi_phb_op_delete_all_update_index(U8 storage);
extern void mmi_phb_op_delete_all_update_optioal_id(void);
extern void mmi_phb_op_update_optional_field(U16 store_index, U8 storage, U8 type);
extern void mmi_phb_clear_optional_ids(U16 store_index);
extern void mmi_phb_util_clear_info_buffer(void);

#if defined(__MMI_PHB_CALLERGROUP_IN_SIM__)     /* Associate caller group in SIM card entry */
extern void mmi_phb_clear_optional_ids_for_sim(U16 store_index);
extern void mmi_phb_copy_optional_ids_for_sim(U16 dst_store_index, U16 src_store_index);
#endif 
extern BOOL mmi_phb_copy_optional_ids(U16 dst_store_index, U16 src_store_index);
extern void mmi_phb_op_set_entry_prepare_name_number_by_index(void *dst_msg, U16 store_index);
extern void mmi_phb_op_set_entry_rsp_name_number(void *rsp_msg, U16 store_index);
extern U16 mmi_phb_op_get_store_index_and_increase_counter(U8 storage, U16 record_index);
extern U16 mmi_phb_op_clear_lookup_table_by_index(U16 store_index);


#define IN_MMI_PHONEBOOKSEARCH_C
/*
 * Sort Name
 */

extern void mmi_phb_ind_startup_finish_after_name_sort(void);



/*
 * Quick Search
 */
#if defined(__MMI_PHB_QUICK_SEARCH__)

#if 0
#if defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__) */ 
#endif

extern pBOOL mmi_phb_generic_quick_search_list_get_item(S32 item_index, UI_string_type str_buff, PU8 *img_buff_p, U8 str_img_mask);
extern S32 mmi_phb_generic_quick_search_list_get_hint(S32 item_index, UI_string_type *hint_array);

#endif /* defined(__MMI_PHB_QUICK_SEARCH__) */ 

/*
 *Compare Functions Utilities
 */
extern S32 mmi_phb_compare_chars(U16 char1, U16 char2);

#if defined(__MMI_PHB_PINYIN_SORT__)
extern void mmi_phb_util_make_pinyin_cache(U16 store_index);
extern void mmi_phb_util_get_pinyin_cache(U16 store_index, U8 **pinyin_ptr);
extern U16 mmi_phb_util_convert_to_pinyin(U8 *inputString, U8 *outputString, U16 out_length);
#endif /* defined(__MMI_PHB_PINYIN_SORT__) */ 

/* 
 * Sort / Search Number Lookup Table
 */
extern void mmi_phb_lookup_table_sort(void);
extern void mmi_phb_lookup_table_quicksort(U16, U16);
extern void mmi_phb_lookup_table_insertionsort(U16, U16);
extern void mmi_phb_lookup_table_swap_node(U16, U16);
extern void mmi_phb_util_read_compare_length(void);


#define IN_MMI_PHONEBOOKSETTING_C
/*
 *  Settings Main Menu
 */
extern void mmi_phb_highlight_setting(void);    /* Highlight handler for Phonebook Settings option */


/*
 * My vCard
 */
#if defined(__MMI_VCARD__)
extern MMI_BOOL mmi_phb_send_contact_menu_check(mmi_id group_id);
#if defined(__MMI_OPP_SUPPORT__)
extern void mmi_phb_mark_several_op_send_vcard(MMI_ID group_id);
#endif
#if defined(__MMI_MULTI_VCARD__)
extern void mmi_phb_mark_several_op_backup(MMI_ID group_id);
extern void mmi_phb_entry_backup_contact(MMI_ID group_id);
extern void mmi_phb_entry_restore_contact(MMI_ID group_id);
#endif
#endif

/*
 * Speak Name in Phonebook list
 */
#if defined(__MMI_INTELLIGENT_CALL_ALERT__)
extern void mmi_phb_init_speak_name(void);
extern void mmi_phb_speak_name_toggle(void);
#endif /* defined(__MMI_INTELLIGENT_CALL_ALERT__) */ 

/*
 * Save contact notify
 */
#if defined( __MMI_PHB_SAVE_CONTACT_NOTIFY__)
void mmi_phb_entry_save_contact_notify(void);
void mmi_phb_save_contact_notify_set_req(void);
#endif

/* 
 *  Inline Editor Selection List - Ring Tone, Image List, LED, Alert.
 */
#if defined(__MMI_FILE_MANAGER__) && defined(__MMI_FILE_USEAS_SUPPORT__)
extern void mmi_phb_ringtone_select_from_file_mamager(void);
extern void mmi_phb_edit_option_ringtone_highlight_hdlr(mmi_id menu_id);
#endif

extern void mmi_phb_stop_ring_tone_id(void);
#if 0
#if defined(__MMI_PHB_PREFERRED_NUMBER_FIELD__)
/* under construction !*/
#endif
#endif
extern void mmi_phb_build_image_list(void);



#if defined(__MMI_PHB_CALLER_VIDEO__)
extern void mmi_phb_build_video_list(void);
extern U16 mmi_phb_get_video_id(U8 index);
extern U8 mmi_phb_get_video_index(U16 video_id);
extern void mmi_phb_video_view_callback(S32 result);
#if 0
#ifdef __MMI_SWFLASH__
/* under construction !*/
#endif
#endif
#endif /* defined(__MMI_PHB_CALLER_VIDEO__) */ 



#define IN_MMI_PHONEBOOKSTUBS_C

/*
 * Interface for MMS
 */
//#if defined(MMS_SUPPORT))
#if defined(__MMI_PHB_INFO_FIELD__) && defined(__MMI_MMS_POSTCARD__)
extern S32 mmi_phb_mms_address_list_get_hint(S32 item_index, UI_string_type *hint_array);
extern void mmi_phb_return_address_data(void);
#endif
//#endif /* defined(MMS_SUPPORT)) */ 

/* 
 * Save Image To Phb from File Manager
 */
#if defined(__MMI_FILE_MANAGER__)
extern void mmi_phb_entry_fmgr_save_option(void);
extern void mmi_phb_exit_fmgr_save_option(void);
extern void mmi_phb_fmgr_pre_add_entry(void);
extern void mmi_phb_fmgr_pre_edit_entry(U16 store_index);
extern S32 mmi_phb_fmgr_edit_list_get_hint(S32 item_index, UI_string_type *hint_array);
extern void mmi_phb_fmgr_pre_edit_callergrp(void);
#endif /* defined(__MMI_FILE_MANAGER__) */ 

/*
 * Pubic Utilities- Convert Functions
 */


extern U16 mmi_phb_convert_to_0x81_get_base(U16 code);
extern U8 mmi_phb_convert_to_0x81_get_offset(U16 base, U16 code);



/* USIM related */
#ifdef __MMI_PHB_USIM_FIELD__
extern void mmi_phb_op_add_usim_entry_req(void);         /* Send information to stack to store an entry */
extern void mmi_phb_op_edit_usim_entry_req(void);

extern void mmi_phb_op_set_entry_usim_fields(void *field_msg, U16 store_index);
extern void mmi_phb_op_set_entry_prepare_usim_data_by_index(U16 index);
extern void mmi_phb_op_set_option_data_by_usim_index(U16 index, PHB_OPTIONAL_FIELDS_STRUCT *opt_fields);

extern void mmi_phb_build_usim_group_list(void);
extern void mmi_phb_gas_save_req(void);
#endif /* __MMI_PHB_USIM_FIELD__ */ 

#if defined(__MMI_PHB_QUICK_SEARCH__) && defined(__MMI_PHB_GENERIC_MULTI_SELECT__)
extern S32 mmi_phb_generic_multi_select_and_quick_search_set_state(S32 item_index);
extern void mmi_phb_generic_multi_select_and_quick_search_check(void);
extern void mmi_phb_generic_multi_select_and_quick_search_highlight_handler(S32 item_index);
extern S32 mmi_phb_generic_multi_select_and_quick_search_get_state(S32 item_index, PU8 *checkbox_image);
extern MMI_BOOL mmi_phb_star_key_pre_handler(U16 key_code, U16 key_type);
#if 0
#if defined(__MMI_MULTITAP_FOR_STAR_AND_POUND__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#endif /* __MMI_MULTITAP_FOR_STAR_AND_POUND__ */
#endif
#endif /* defined(__MMI_PHB_QUICK_SEARCH__) && defined(__MMI_PHB_GENERIC_MULTI_SELECT__) */
extern MMI_BOOL mmi_phb_is_num_in_bcd(const U16* source, U8 num, U16 len_in_bytes);

#ifdef __MMI_URI_AGENT__
extern void mmi_phb_init_uri_agent_registration(void);
extern void mmi_phb_uriagent_result_callback(U8 uriagent_result);
extern U8 mmi_phb_uriagent_choose_storage_delete_cb(void);
extern void mmi_phb_uriagent_display_popup(U8 result);
#endif


extern MMI_BOOL mmi_phb_og_start_browser(U16 store_index, MMI_ID group_id);



#ifdef __MMI_SYNCML_APP_SYNC_MENU_SUPPORT__
extern void mmi_phb_entry_sync_menu(void);
#endif

#if (MMI_MAX_SIM_NUM > 1)
extern void mmi_phb_move_several_build_menu(mmi_id menu_gid);
extern void mmi_phb_copy_several_build_menu(mmi_id menu_gid);
#endif

#if defined(__MMI_PHB_MULTI_OPERATION__)
extern void mmi_phb_pre_entry_mark_several_main(MMI_ID group_id);

extern void mmi_phb_mark_several_main_build_option(MMI_ID menu_gid);
extern void mmi_phb_mark_several_copy_build_option(MMI_ID menu_gid);
extern void mmi_phb_mark_several_move_build_option(MMI_ID menu_gid);
extern void mmi_phb_entry_mark_several_option(void);
extern void mmi_phb_entry_mark_several_main(void);
extern void mmi_phb_entry_mark_several_move(void);
extern void mmi_phb_entry_mark_several_copy(void);
extern void mmi_phb_entry_mark_several_list(U16, U16, U16, U16, U16, FunctionPtr, FunctionPtr, FunctionPtr);
#if defined(__MMI_PHB_QUICK_SEARCH__)
extern void mmi_phb_entry_quick_search_mark_several_main(void);
extern void mmi_phb_entry_quick_search_mark_several_copy(void);
extern void mmi_phb_entry_quick_search_mark_several_move(void);
extern void mmi_phb_entry_quick_search_mark_several_add_to_group(void);
extern void mmi_phb_entry_quick_search_mark_several_list(U16, U16, U16, U16, U16, FunctionPtr, FunctionPtr, FunctionPtr, FunctionPtr);
#endif /*(__MMI_PHB_QUICK_SEARCH__)*/




#ifdef __MMI_UNIFIED_COMPOSER__
extern void mmi_phb_pre_entry_mark_several_send_uc(void);
extern void mmi_phb_mark_several_send_uc_choose_address(MMI_ID group_id);
extern void mmi_phb_entry_mark_several_send_uc_choose_address(void);
extern void mmi_phb_mark_several_send_uc_choose_address_more(void);
extern void mmi_phb_entry_mark_several_send_uc(void);
#else /*__MMI_UNIFIED_COMPOSER__ */
extern void mmi_phb_entry_mark_several_send_sms(MMI_ID group_id);
extern void mmi_phb_mark_several_send_sms_choose_address_more(void);
extern void mmi_phb_entry_mark_several_send_sms_choose_address(void);
extern void mmi_phb_mark_several_send_sms_choose_address(MMI_ID group_id);
extern void mmi_phb_pre_entry_mark_several_send_sms(void);
extern void mmi_phb_pre_entry_mark_several_send_sms(void);
extern void mmi_phb_entry_mark_several_send_sms(MMI_ID group_id);
#if defined(__MMI_MMS__) &&  defined(OBIGO_Q03C_MMS_V02) && !defined(__MMI_SLIM_MMS_2__)
extern void mmi_phb_pre_entry_mark_several_send_mms(void);
extern void mmi_phb_mark_several_send_mms_choose_address(MMI_ID group_id);
extern void mmi_phb_entry_mark_several_send_mms_choose_address(void);
extern void mmi_phb_mark_several_send_mms_choose_address_more(void);
extern void mmi_phb_entry_mark_several_send_mms(void);
extern void mmi_phb_mark_several_send_mms_req(void);
extern void mmi_phb_mark_several_send_mms_rsp(void *info);
extern void mmi_phb_mark_several_send_mms_insert_more_ind(U32);
extern U16 mmi_phb_mark_several_send_mms_prepare_buffer(U16, U16, void*);
#endif /* defined(OBIGO_Q03C_MMS_V02) &&  defined(__MMI_MMS__) */
#endif /* __MMI_UNIFIED_COMPOSER__ */
extern MMI_BOOL mmi_phb_mark_several_filter_for_send_message(U16, U16);
extern U8* mmi_phb_mark_several_get_address_callback(U16 index, U16* type);
extern void mmi_phb_mark_several_send_message_go_back_histoty(void);
extern void mmi_phb_mark_several_send_message_go_back_histoty_ext(MMI_ID group_id);


#else /* defined(__MMI_PHB_MULTI_OPERATION__) */
extern void mmi_phb_op_copy_all_confirm(MMI_ID group_id);
extern void mmi_phb_op_move_all_confirm(MMI_ID group_id);
extern U16 mmi_phb_op_copy_move_all_get_confirm_str(U16 dst_storage);
extern void mmi_phb_move_all_pre_req(MMI_ID group_id);
extern void mmi_phb_move_all_copy_call_back(U16 error_result, U16 store_index);
extern void mmi_phb_move_all_call_back(U16 result, U16 store_index);
#endif /* defined(__MMI_PHB_MULTI_OPERATION__) */




#if defined(__MMI_PHB_SLIM_SETTING_MESS_OPERATION__) || defined(__MMI_PHB_MULTI_OPERATION__) || defined(__DM_LAWMO_SUPPORT__)
extern void mmi_phb_multi_op_cancel(void);
#endif
extern void mmi_phb_show_mass_processing(mmi_id sg_id, U16 msg, U16 total_count);

extern void mmi_phb_mass_processing_abort(void);
extern void mmi_phb_end_key_save_contact(void);

extern mmi_ret mmi_phb_update_mass_processing(mmi_event_struct* param);



extern MMI_BOOL mmi_phb_check_storage_status(U8, mmi_phb_check_storage_enum, MMI_BOOL);
extern MMI_BOOL mmi_phb_op_all_check_storage_status(U8 storage, mmi_phb_check_storage_enum check_type, MMI_BOOL need_popup, MMI_ID group_id);
extern MMI_BOOL mmi_phb_get_fdn_status(U8 storage);


extern void mmi_phb_entry_delete_all_no_sim(void);


extern void mmi_phb_continue_send_multi_message_confirm(U16, MenucuiPtr, MenucuiPtr, MMI_ID);

#if defined (__MMI_PHB_UI_IN_TABS__)
extern void mmi_phb_entry_choose_caller_alert(void);
extern void mmi_phb_choose_caller_alert_done(void);
extern void mmi_phb_entry_choose_caller_led(void);
extern void mmi_phb_exit_choose_caller_led(void);
extern void mmi_phb_choose_caller_led_done(void);
extern void mmi_phb_entry_choose_caller_ringtone(void);
#endif /* __MMI_PHB_UI_IN_TABS__ */

/* caller picture */

extern void mmi_phb_entry_choose_caller_pic(void);

extern void mmi_phb_entry_image_view_ext(MMI_ID group_id);

#ifdef __MMI_UDX_VCARD_SUPPORT__
extern void mmi_phb_mark_several_op_build_udx_confirm(MMI_ID group_id);
extern void mmi_phb_mark_several_op_build_udx(MMI_ID group_id);
#endif /* __MMI_UDX_VCARD_SUPPORT__ */


extern mmi_ret mmi_phb_edit_menu_cui_proc(mmi_event_struct *evt);
extern mmi_ret mmi_phb_number_editor_proc(mmi_event_struct *evt);
extern void mmi_phb_sg_entry_setting(MMI_ID group_id);
extern void mmi_phb_entry_group_speed_dial(void);
#if 0
#ifdef __OP01_FWPBW__
/* under construction !*/
/* under construction !*/
#endif
#endif

#ifdef __MMI_PHB_SPEED_DIAL__
extern void mmi_phb_speed_dial_pre_set_number(mmi_id sg_id, U16 store_index, U32 num_type, mmi_phb_contact_info_struct* contact);
extern void mmi_phb_speed_dial_pre_del_number(U16 store_index, U32 num_index);
extern void mmi_phb_speed_dial_set_number_commit(U16 store_index, mmi_phb_contact_info_struct* contact);
#endif

extern void mmi_phb_entry_group_my_number(void);
extern void mmi_phb_entry_group_extra_number(void);
#ifdef __MMI_PHB_SLIM_SETTING_MESS_OPERATION__
extern void mmi_phb_group_copy_several(void);
extern void mmi_phb_group_move_several(void);
extern void mmi_phb_group_delete_all(void);
#endif /* __MMI_PHB_SLIM_SETTING_MESS_OPERATION__ */
extern mmi_ret mmi_phb_mark_several_menu_cui_proc(mmi_event_struct *evt);
#if defined(__MMI_PHB_MULTI_OPERATION__) || defined(__MMI_PHB_GENERIC_MULTI_SELECT__)
extern U8 mmi_phb_bitmask_get_state(U8* bit_mask, U16 store_index);
extern void mmi_phb_bitmask_set_state(U8* bit_mask, U16 store_index, MMI_BOOL status);
extern mmi_phb_group_member_ms_menu_cui_proc(mmi_event_struct *evt);
extern void mmi_phb_entry_group_mark_several_list(FunctionPtr lsk_ptr, FunctionPtr csk_ptr, FunctionPtr entry_ptr, U8 group_id);
extern U16 mmi_phb_mark_several_populate(void);
extern U16 mmi_phb_mark_several_search_count(void);
extern void mmi_phb_mark_several_check(void);
extern void mmi_phb_op_mark_several_mark_unmark(void);
extern void mmi_phb_op_mark_several_unmark_all(void);
extern void mmi_phb_op_mark_several_mark_all(void);
#endif
extern mmi_ret mmi_phb_choose_storage_menu_cui_proc(mmi_event_struct *evt);
extern mmi_ret mmi_phb_main_list_menu_cui_proc(mmi_event_struct *evt);
extern mmi_ret mmi_phb_view_contact_menu_cui_proc(mmi_event_struct *evt);

#ifdef __MMI_BPP20_SUPPORT__
extern mmi_ret mmi_phb_bpp_cui_proc(mmi_event_struct* evt);
#endif

#if !(defined(LOW_COST_SUPPORT) && !(defined(__MMI_FILE_MANAGER__) && defined(__MMI_FILE_USEAS_SUPPORT__)))
extern mmi_ret mmi_phb_image_edit_menu_cui_proc(mmi_event_struct *evt);
#endif

#if defined(__MMI_FILE_MANAGER__)
extern mmi_ret mmi_phb_fmgr_edit_menu_cui_proc(mmi_event_struct *evt);
#endif

#ifdef __MMI_SAVE_CONTACT_REPLACE__
extern mmi_ret mmi_phb_save_choose_menu_cui_proc(mmi_event_struct * evt);
#endif

#if defined(__MMI_PHB_CALLER_VIDEO__)
extern mmi_ret mmi_phb_video_edit_menu_cui_proc(mmi_event_struct *evt);
extern mmi_ret mmi_phb_video_audio_menu_cui_proc(mmi_event_struct *evt);
#endif

extern void mmi_phb_op_add_new_entry(void);

#ifdef __MMI_PHB_UI_IN_TABS__
extern mmi_ret mmi_phb_profiles_contact_proc(mmi_event_struct *evt);
#endif

#if defined(__MMI_FILE_MANAGER__) && defined(__MMI_FILE_USEAS_SUPPORT__)
extern void mmi_phb_select_image_preview(mmi_scrn_essential_struct* scrn_data);
extern void mmi_phb_select_image(MMI_ID group_id);
#endif

extern void mmi_phb_search_contact_pre_run(void);
extern void mmi_phb_search_contact_run(void);
extern void mmi_phb_search_contact_continue(MMI_ID group_id);

#ifdef __MMI_PHB_OPTIONAL_FIELD__
extern U8 mmi_phb_edit_get_opt_number_field(U8 index);
#endif

extern MMI_ID mmi_phb_entry_menu_cui_generic(MMI_ID parent_gid, MMI_MENU_ID menu_id, U16 title_id);

extern MMI_ID mmi_phb_entry_menu_cui_generic_ext(
                MMI_ID parent_gid,
                cui_menu_type_enum menu_type,
                MMI_MENU_ID menu_id,
                U16 title_id,
                void* parent_data);

#ifdef __MMI_PHB_PHOTO_STICKER_SUPPORT__
extern void mmi_phb_thumbnail_reset_displayable(void);
extern MMI_BOOL mmi_phb_thumbnail_get_image_path_callback(U16 store_id, CHAR *path);
extern void mmi_phb_thumbnail_set_displayable(U16 store_id, MMI_BOOL displayable);
extern MMI_BOOL mmi_phb_thumbnail_get_displayable(U16 store_id);
extern void mmi_phb_thumbnail_get_menuitem_info(U16 store_id, wgui_thumbnail_info_struct *menuitem_data);
#endif

#ifdef __MMI_SNS_CONTACTS__
extern void mmi_phb_sns_entry_view_member(mmi_phb_sns_list_enum list_type);
#ifdef __MMI_SNS_MESSAGES__
extern void mmi_phb_sns_entry_send_msg(mmi_phb_sns_list_enum type);
extern void mmi_phb_sns_view_message(void);
#endif
extern void mmi_phb_sns_favorite_op(mmi_phb_sns_list_enum list_type, MMI_BOOL is_add);
extern void mmi_phb_sns_view_unlink(U16 store_index, MMI_ID group_id);
extern MMI_BOOL mmi_phb_sns_is_scrn_active(const MMI_ID group_id, const MMI_ID scrn_id);
#ifdef BROWSER_SUPPORT
extern void mmi_phb_sns_view_browser(void);
#endif
extern void mmi_phb_sns_entry_contact_link(cui_sns_result_enum result);
extern void mmi_phb_sns_entry_filter(cui_sns_result_enum result, S32 list_id, MMI_BOOL is_group, S32 provider);
extern mmi_ret mmi_phb_sns_link_not_ready_proc(mmi_event_struct *evt);
extern mmi_ret mmi_phb_sns_filter_not_ready_proc(mmi_event_struct *evt);
extern MMI_BOOL mmi_phb_sns_is_linked(U16 contact);
extern void mmi_phb_sns_is_progress(mmi_id sg_id, U16 msg);
extern MMI_BOOL mmi_phb_sns_list_ready(void);
extern PU8 mmi_phb_sns_friend_get_provider_image(S32 item_index);
extern gdi_image_cache_bmp_struct mmi_phb_sns_friend_cache_provider_image(S32 item_index);
extern mmi_ret mmi_phb_sns_unload_proc(mmi_event_struct *evt);
#endif


extern MMI_BOOL mmi_phb_sim_ctrl_not_available_hide_menu(mmi_sim_enum mmi_sim, MMI_ID inline_gid, U16 menu_id, U16 string_id);
extern void mmi_phb_new_entry_choose_storage_check(mmi_id sender_id, U16 menu_id, U16 string_id);
#ifdef __MMI_DYNAMIC_SIM_DYNAMIC_UI__
extern void mmi_phb_sim_dynamic_name(mmi_sim_enum mmi_sim, MMI_ID inline_gid, U16 menu_id, U16 string_id);
extern void mmi_phb_sim_dynamic_name_simx_title(mmi_sim_enum mmi_sim, MMI_ID inline_gid, U16 string_id, WCHAR *buffer);
extern U16 mmi_phb_sim_dynamic_name_string_index(sim_interface_enum string_index);
#endif

#ifdef __MMI_PHB_TCARD_STORAGE_SUPPORT__
void mmi_phb_memory_card_not_available_hide_menu(MMI_ID inline_gid, U16 menu_id);
MMI_BOOL mmi_phb_memory_card_is_ready(phb_storage_enum storage, MMI_BOOL is_popup);
#endif

#ifdef __MMI_MAINLCD_96X64__


#if defined(__MMI_PHB_LAST_NAME_FIELD__)
extern void mmi_phb_name_display_menu_cui_proc(mmi_event_struct *evt);//maggie
#endif
extern mmi_ret mmi_phb_prefer_storage_menu_cui_proc(mmi_event_struct *evt);//maggie
#if defined(__MMI_INTELLIGENT_CALL_ALERT__)
extern mmi_ret mmi_phb_speak_name_menu_cui_proc(mmi_event_struct *evt);//maggie
#endif
#if defined( __MMI_PHB_SAVE_CONTACT_NOTIFY__)
extern mmi_ret mmi_phb_save_notify_menu_cui_proc(mmi_event_struct *evt);//maggie
#endif
extern void mmi_phb_entry_memory_status(void);                   //entry memory status screen
extern void mmi_phb_entry_preferred_storage(void);               //entry prefer storage screen

extern void mmi_phb_entry_setting(void);                         //进入setting menu主选单
extern void mmi_phb_entry_memory_status(void);                   //entry memory status screen
extern void mmi_phb_set_preferred_storage(void);
extern void mmi_phb_entry_preferred_storage(void);  


#endif

#endif /* _PHONEBOOKPROT_H */ 

