/*****************************************************************************
*  Copyright Statement:
*  --------------------
*  This software is protected by Copyright and the information contained
*  herein is confidential. The software may not be copied and the information
*  contained herein may not be used or disclosed except with the written
*  permission of MediaTek Inc. (C) 2005
*
*  BY OPENING THIS FILE, BUYER HEREBY UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
*  THAT THE SOFTWARE/FIRMWARE AND ITS DOCUMENTATIONS ("MEDIATEK SOFTWARE")
*  RECEIVED FROM MEDIATEK AND/OR ITS REPRESENTATIVES ARE PROVIDED TO BUYER ON
*  AN "AS-IS" BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY AND ALL WARRANTIES,
*  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF
*  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NONINFRINGEMENT.
*  NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY WHATSOEVER WITH RESPECT TO THE
*  SOFTWARE OF ANY THIRD PARTY WHICH MAY BE USED BY, INCORPORATED IN, OR
*  SUPPLIED WITH THE MEDIATEK SOFTWARE, AND BUYER AGREES TO LOOK ONLY TO SUCH
*  THIRD PARTY FOR ANY WARRANTY CLAIM RELATING THERETO. MEDIATEK SHALL ALSO
*  NOT BE RESPONSIBLE FOR ANY MEDIATEK SOFTWARE RELEASES MADE TO BUYER'S
*  SPECIFICATION OR TO CONFORM TO A PARTICULAR STANDARD OR OPEN FORUM.
*
*  BUYER'S SOLE AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE AND CUMULATIVE
*  LIABILITY WITH RESPECT TO THE MEDIATEK SOFTWARE RELEASED HEREUNDER WILL BE,
*  AT MEDIATEK'S OPTION, TO REVISE OR REPLACE THE MEDIATEK SOFTWARE AT ISSUE,
*  OR REFUND ANY SOFTWARE LICENSE FEES OR SERVICE CHARGE PAID BY BUYER TO
*  MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT ISSUE. 
*
*  THE TRANSACTION CONTEMPLATED HEREUNDER SHALL BE CONSTRUED IN ACCORDANCE
*  WITH THE LAWS OF THE STATE OF CALIFORNIA, USA, EXCLUDING ITS CONFLICT OF
*  LAWS PRINCIPLES.  ANY DISPUTES, CONTROVERSIES OR CLAIMS ARISING THEREOF AND
*  RELATED THERETO SHALL BE SETTLED BY ARBITRATION IN SAN FRANCISCO, CA, UNDER
*  THE RULES OF THE INTERNATIONAL CHAMBER OF COMMERCE (ICC).
*
*****************************************************************************/
/*****************************************************************************
 *
 * Filename:
 * ---------
 *  CamcorderApp.h
 *
 * Project:
 * --------
 *  MAUI
 *
 * Description:
 * ------------
 *  Define Camcorder related data type
 *
 * Author:
 * -------
 * -------
 *                      
 *============================================================================
 *             HISTORY
 * Below this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *------------------------------------------------------------------------------
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 * removed!
 * removed!
 * removed!
 *
 *------------------------------------------------------------------------------
 * Upper this line, this part is controlled by PVCS VM. DO NOT MODIFY!!
 *============================================================================
 ****************************************************************************/
#ifndef _CAMCORDER_DATATYPE_H_
#define _CAMCORDER_DATATYPE_H_

#include "MMI_features.h"
#ifdef __MMI_CAMCORDER__
#include "CamcorderGprot.h"

#include "mdi_camera.h"
#include "mdi_video.h"

#include "FileMgrType.h"
#include "MMIDataType.h"
#include "kal_general_types.h"
#include "FileMgrSrvGProt.h"
#include "MMI_features_camcorder.h"
#include "med_api.h"
#include "mdi_datatype.h"
#include "gdi_datatype.h"

#ifdef __MTK_TARGET__
#undef __MMI_CAMERA_5_OSD_LAYER__
#undef __MMI_CAMERA_3_OSD_LAYER__
#endif /* __MTK_TARGET__ */ 

#if defined(__MM_DEBUG_MEASURE__)
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
/* under construction !*/
#else /* defined(__MM_DEBUG_MEASURE__) */ 
#define MMI_CAMCO_START_LOGGING(_symbol_)
#define MMI_CAMCO_STOP_LOGGING(_symbol_)
#endif /* defined(__MM_DEBUG_MEASURE__) */ 


/****************************************************************************
 * Define
 ****************************************************************************/
#define MMI_CAMCO_STORAGE_CAM_FILEPATH            FMGR_DEFAULT_FOLDER_PHOTOS
// #define MMI_CAMCO_STORAGE_CAM_FILEPATH_MEMORY_CARD      FMGR_DEFAULT_FOLDER_PHOTOS
#define MMI_CAMCO_STORAGE_REC_FILEPATH              FMGR_DEFAULT_FOLDER_VIDEO
// #define MMI_CAMCO_STORAGE_REC_FILEPATH_MEMORY_CARD        FMGR_DEFAULT_FOLDER_VIDEO

#define CAMCO_PREVIEW_ROTATE_0              MDI_CAMERA_PREVIEW_ROTATE_0
#define CAMCO_PREVIEW_ROTATE_90             MDI_CAMERA_PREVIEW_ROTATE_90
#define CAMCO_PREVIEW_ROTATE_180            MDI_CAMERA_PREVIEW_ROTATE_180
#define CAMCO_PREVIEW_RORATE_270            MDI_CAMERA_PREVIEW_ROTATE_270
#define CAMCO_PREVIEW_ROTATE_0_MIRROR       MDI_CAMERA_PREVIEW_ROTATE_0_MIRROR
#define CAMCO_PREVIEW_ROTATE_90_MIRROR      MDI_CAMERA_PREVIEW_ROTATE_90_MIRROR
#define CAMCO_PREVIEW_ROTATE_180_MIRROR     MDI_CAMERA_PREVIEW_ROTATE_180_MIRROR
#define CAMCO_PREVIEW_ROTATE_270_MIRROR     MDI_CAMERA_PREVIEW_ROTATE_270_MIRROR

#define CAMCO_LCM_ROTATE_0                  MDI_CAMERA_LCM_ROTATE_0
#define CAMCO_LCM_ROTATE_90                 MDI_CAMERA_LCM_ROTATE_90
#define CAMCO_LCM_ROTATE_180                MDI_CAMERA_LCM_ROTATE_180
#define CAMCO_LCM_ROTATE_270                MDI_CAMERA_LCM_ROTATE_270
#define CAMCO_LCM_ROTATE_0_MIRROR           MDI_CAMERA_LCM_ROTATE_0_MIRROR
#define CAMCO_LCM_ROTATE_90_MIRROR          MDI_CAMERA_LCM_ROTATE_90_MIRROR
#define CAMCO_LCM_ROTATE_180_MIRROR         MDI_CAMERA_LCM_ROTATE_180_MIRROR
#define CAMCO_LCM_ROTATE_270_MIRROR         MDI_CAMERA_LCM_ROTATE_270_MIRROR

#define MMI_CAMCO_SETTING_EV_COUNT      (9)
#define MMI_CAMCO_CAM_NOT_READY         (-1)
#define MMI_CAMCO_FORWARD_ITEM_NUM      (16)

typedef enum
{
    MMI_CAMCO_STATE_EXIT = 0,               /* 0 */
/*****************************************************************/
/*******************      Camera       ***************************/
/*****************************************************************/
    /* main lcd */
    MMI_CAMCO_STATE_CAM_PREVIEW,            /* 1 */
    MMI_CAMCO_STATE_CAM_PREVIEW_FAILED,     /* 2 */
    MMI_CAMCO_STATE_CAM_SETTING_MENU,       /* 3 */
    MMI_CAMCO_STATE_CAM_FOCUSING,           /* 4 */
    MMI_CAMCO_STATE_CAM_FOCUSED,            /* 5 */
    MMI_CAMCO_STATE_CAM_COUNTDOWN,          /* 6 */
    MMI_CAMCO_STATE_CAM_CAPTURE,            /* 7 */
    MMI_CAMCO_STATE_CAM_SAVE_DONE,          /* 8 */
    MMI_CAMCO_STATE_CAM_CONTSHOT,           /* 9 */
    MMI_CAMCO_STATE_CAM_BURSTSHOT,          /* 10 */
    MMI_CAMCO_STATE_CAM_BURSTSHOT_SELECT,   /* 11 */
    MMI_CAMCO_STATE_CAM_AEBSHOT,            /* 12 */
    MMI_CAMCO_STATE_CAM_AEBSHOT_SELECT,     /* 13 */
    MMI_CAMCO_STATE_CAM_AUTORAMA_SHOT,      /* 14 */
    MMI_CAMCO_STATE_CAM_AUTORAMA_STITCH,    /* 15 */
    MMI_CAMCO_STATE_CAM_AUTORAMA_DONE,      /* 16 */
    MMI_CAMCO_STATE_CAM_ADD_FRAME,          /* 17 */
    MMI_CAMCO_STATE_CAM_SMILE_DECT,         /* 18 */
    MMI_CAMCO_STATE_CAM_HDR_SHOT,           /* 19 */
    MMI_CAMCO_STATE_CAM_HDR_DONE,           /* 20 */    
    MMI_CAMCO_STATE_CAM_MAV_SHOT,           
    
    /* sub lcd */
    MMI_CAMCO_STATE_CAM_SUB_PREVIEW,    /* 21 */

    /* interrupt */
    MMI_CAMCO_STATE_CAM_INT_PREVIEW,            /* 22 */
    MMI_CAMCO_STATE_CAM_INT_SETTING_MENU,       /* 23 */
    MMI_CAMCO_STATE_CAM_INT_SAVE_DONE,          /* 24 */
    MMI_CAMCO_STATE_CAM_INT_BURSTSHOT_SELECT,   /* 25 */
    MMI_CAMCO_STATE_CAM_INT_AEBSHOT_SELECT,     /* 26 */
    MMI_CAMCO_STATE_CAM_INT_AUTORAMA_SHOT,      /* 27 */
    MMI_CAMCO_STATE_CAM_INT_AUTORAMA_STITCH,    /* 28 */
    MMI_CAMCO_STATE_CAM_INT_AUTORAMA_DONE,      /* 29 */
    MMI_CAMCO_STATE_CAM_INT_ADD_FRAME,          /* 30*/
    MMI_CAMCO_STATE_CAM_INT_SUB_PREVIEW,        /* 31 */
/*****************************************************************/
/*******************      Video Recorder    **********************/
/*****************************************************************/
    MMI_CAMCO_STATE_REC_PREVIEW,                /* 32 */
    MMI_CAMCO_STATE_REC_PREVIEW_FAILED,         /* 33 */
    MMI_CAMCO_STATE_REC_SETTING_MENU,           /* 34 */
    MMI_CAMCO_STATE_REC_FOCUSING,               /* 35 */
    MMI_CAMCO_STATE_REC_FOCUSED,                /* 36 */
    MMI_CAMCO_STATE_REC_RECORDING,              /* 37 */
    MMI_CAMCO_STATE_REC_PAUSE,                  /* 38 */
    MMI_CAMCO_STATE_REC_SAVING,                 /* 39 */
    MMI_CAMCO_STATE_REC_SAVE_DONE,              /* 40 */
    MMI_CAMCO_STATE_REC_SAVING_PREV,            /* 41 */

    /* interrupt */
    MMI_CAMCO_STATE_REC_INT_PREVIEW,        /* 42 */
    MMI_CAMCO_STATE_REC_INT_SETTING_MENU,   /* 43 */
    MMI_CAMCO_STATE_REC_INT_SAVING,         /* 44 */
    MMI_CAMCO_STATE_REC_INT_SAVE_DONE,      /* 45 */
    MMI_CAMCO_STATE_REC_INT_SAVING_PREV,    /* 46 */

    MMI_CAMCO_STATE_RESTORE_CONFIRM,        /* 47 */
    MMI_CAMCO_STATE_INT_RESTORE_CONFIRM,    /* 48 */

    MMI_CAMCO_STATE_END
} mmi_camco_state_enum;

typedef enum
{
    MMI_CAMCO_SETTING_CURRENT = 0,
    MMI_CAMCO_SETTING_TEMP
} mmi_camco_setting_duration_enum;

typedef enum
{
    MMI_CAMCO_CAM_OPTION_DELETE = 0,
    MMI_CAMCO_CAM_OPTION_FORWARD,
#ifdef __MMI_PHOTOEDITOR__
    MMI_CAMCO_CAM_OPTION_PHOTOEDITOR,
#endif 
#ifdef __MMI_IMAGE_VIEWER_ADV__
    MMI_CAMCO_CAM_OPTION_PAN_AND_ZOOM,
#endif 
    MMI_CAMCO_CAM_OPTION_END
} mmi_camco_cam_option_enum;

typedef enum
{
    MMI_CAMCO_REC_OPTION_DELETE = 0,
    MMI_CAMCO_REC_OPTION_FORWARD,
    MMI_CAMCO_REC_OPTION_PLAY,
    MMI_CAMCO_REC_OPTION_END
} mmi_camco_rec_option_enum;

typedef enum
{
    MMI_CAMCO_OPTION_MENULIST_STATE_EXIT = 0,
    MMI_CAMCO_OPTION_MENULIST_STATE_LEVEL_0,
    MMI_CAMCO_OPTION_MENULIST_STATE_LEVEL_1,
    MMI_CAMCO_OPTION_MENULIST_STATE_LEVEL_2
} mmi_camco_option_menulist_state_enum;

typedef enum
{
    MMI_CAMCO_CAM_PREVIEW_MAINLCD = 0,
    MMI_CAMCO_CAM_PREVIEW_SUBLCD
} mmi_camco_cam_preview_lcd_enum;

typedef struct
{
    S32 highlight_idx;
    S32 option;
    MMI_BOOL is_rollback;
    MMI_BOOL is_fromhistory;
    mmi_camco_option_menulist_state_enum state;

} mmi_camco_option_menulist_struct;

typedef struct
{
    S32 offset_x;
    S32 offset_y;
    S32 width;
    S32 height;
} mmi_camco_preview_wnd_struct;

typedef struct
{
    void (*callback) (MMI_BOOL result, CHAR *filepath);
    MMI_BOOL is_enable;
    MMI_BOOL is_switch_app;
    MMI_BOOL is_capsize_lcd_limit;    
} mmi_camco_cam_external_request_struct;

typedef struct
{
    void (*callback) (MMI_BOOL result, CHAR *filepath);
    S32 req_size;
    U8 ext_path[SRV_FMGR_PATH_BUFFER_SIZE];
    MMI_BOOL is_enable;
    MMI_BOOL is_use_ext_req_path;
    MMI_BOOL is_switch_app;
    
} mmi_camco_rec_external_request_struct;

typedef struct
{
    MMI_BOOL is_only_camera;
    MMI_BOOL is_only_recorder;
    MMI_BOOL is_switch_app;
} mmi_camco_partial_request_struct;

#ifdef __MMI_CAMCO_FEATURE_CAM_BURSTSHOT_SELECT__
typedef struct
{
    MMI_BOOL is_saved[MMI_CAMCO_FEATURE_CAM_BURSTSHOT_IMAGE_COUNT];
    mdi_camera_jpegs_struct jpeg_data;
    U8 *cache_img_p[MMI_CAMCO_FEATURE_CAM_BURSTSHOT_IMAGE_COUNT];
} mmi_camco_cam_burstshot_struct;
#endif /* __MMI_CAMCO_FEATURE_CAM_BURSTSHOT_SELECT__ */ 

#ifdef __MMI_CAMCO_FEATURE_CAM_AEBSHOT_SELECT__
typedef struct
{
    MMI_BOOL is_saved[MMI_CAMCO_FEATURE_CAM_AEBSHOT_IMAGE_COUNT];
    mdi_camera_jpegs_struct jpeg_data;
    U8 *cache_img_p[MMI_CAMCO_FEATURE_CAM_AEBSHOT_IMAGE_COUNT];
} mmi_camco_cam_aeb_shot_struct;
#endif /* __MMI_CAMCO_FEATURE_CAM_AEBSHOT_SELECT__ */ 

#ifdef __MMI_CAMCO_FEATURE_CAM_AUTORAMA_SHOT__
typedef struct
{
    U16 direction;
    U32 last_capture_time;
    U8 capture_count;
    U8 *capture_buffer_p[MMI_CAMCO_FEATURE_CAM_AUTORAMA_SHOT_IMAGE_COUNT];
    U32 capture_img_size[MMI_CAMCO_FEATURE_CAM_AUTORAMA_SHOT_IMAGE_COUNT];
     U8 *cache_buffer_p;
    MMI_BOOL is_stitch_done;
    MDI_RESULT stitch_result;
    mdi_camera_panorama_stitch_result_struct stitch_ind;
} mmi_camco_cam_autorama_shot_struct;
#endif /* __MMI_CAMCO_FEATURE_CAM_AUTORAMA_SHOT__ */ 

#ifdef __MMI_CAMCO_FEATURE_CAM_MULTI_ANGLE_VIEW_SHOT__
typedef struct
{
    U8 total_count;
    U8 captured_count;

    MDI_RESULT result;
    U8* qv_buffer;
    S32 qv_size;

} mmi_camco_cam_mav_shot_struct;
#endif
typedef struct
{

    mdi_camera_af_window_struct af_zone;
    mdi_camera_af_result_struct af_result;
#ifdef __MMI_CAMCO_FEATURE_CAM_BURSTSHOT_SELECT__
    mmi_camco_cam_burstshot_struct burstshot;
#endif 
    
#ifdef __MMI_CAMCO_FEATURE_CAM_AEBSHOT_SELECT__
    mmi_camco_cam_aeb_shot_struct aebshot;
#endif 
    
#ifdef __MMI_CAMCO_FEATURE_CAM_AUTORAMA_SHOT__
    mmi_camco_cam_autorama_shot_struct autorama_shot;
#endif 

#ifdef __MMI_CAMCO_FEATURE_CAM_HDRSHOT__
    CHAR mmi_camco_hdr_file_name[SRV_FMGR_PATH_BUFFER_SIZE];
#endif

    mmi_camco_cam_external_request_struct external_request;

    mdi_handle multi_sound_dummy_bg;
    mdi_handle multi_sound_countdown;

    CHAR* storage_filepath_p;
    CHAR* buf_filename_p;
    U8* countaud_data;
    U8* capture_buf_ptr;

    S32 countdown_duration;
    S32 af_zone_count;    
    U32 countaud_len;
    U32 capture_size;
    U32 preview_start_ticks;
    MMI_ID_TYPE err_str_id;

    void *multishot_mem_pool;
    void *cache_mem_pool;
    void *cache_layer_pool;

    U16 storage;
    U16 image_width;
    U16 image_height;
    U16 multishot_save_index;
    U16 addframe_coloridx_index;
    U8 countaud_type;
    U8 qvi_color_format;

    MMI_BOOL is_3d_sound_on;
    MMI_BOOL is_autofocus_on;
    MMI_BOOL is_drive_available;
    MMI_BOOL is_space_enough;
    MMI_BOOL is_continue_capture;
    MMI_BOOL is_burstshot_finish;
    MMI_BOOL is_hdr_shot_process;    
    MMI_BOOL is_takepic_failed;
    MMI_BOOL is_switchto_imgviewer;
    MMI_BOOL is_forward;
    MMI_BOOL is_storage_change;
#ifdef __MMI_CAMCO_CAM_SUBLCD_CAPTURE__
    MMI_BOOL is_switchto_sublcd;
    MMI_BOOL is_sublcd_capture;
#endif /* __MMI_CAMCO_CAM_SUBLCD_CAPTURE__ */ 
    MMI_BOOL is_facedetect_start;
    MMI_BOOL is_asd_start;
    MMI_BOOL is_reset_zoom;
    MMI_BOOL is_stitch_done;
#ifdef __CAMERA_MOTION_SENSOR_SUPPORT_BY_TAG__ 
    U8 capture_rotate;
#endif
#ifdef __SMILE_SHUTTER_SUPPORT__
    MMI_BOOL is_smiledetect_start;
#endif 
    MMI_BOOL is_hide_iso;
} mmi_camco_cam_cntx_struct;

typedef struct
{
    U64 rec_size;
    U64 rec_time;
	U64 rec_frame;
    U64 predict_rec_time;    

    mdi_video_rec_af_window_struct af_zone;
    mdi_video_rec_af_result_struct af_result;

    mmi_camco_rec_external_request_struct external_request;

    MDI_RESULT save_result;
    S32 af_zone_count;
    MMI_ID_TYPE err_str_id;
    CHAR* storage_filepath_p;
    CHAR* buf_filename_p;
    PU8 rec_buf_ptr;
    U16 storage;
    U16 video_width;
    U16 video_height;
    U16 limit;
    U16 rec_progress_ratio;

#ifdef __RECORDER_MOTION_SENSOR_SUPPORT_BY_TAG__
    U8 rec_rotate;
#endif
    mmi_id all_videos_screen_id;

    MMI_BOOL is_space_enough;
    MMI_BOOL is_save_success;
    MMI_BOOL is_drive_available;
    MMI_BOOL is_save_done_when_mt;
    MMI_BOOL is_save_result_back;
    MMI_BOOL is_saving_prev;
    MMI_BOOL is_openfile_hdlr_back;
    MMI_BOOL is_record_start;
    MMI_BOOL is_record_failed;
    MMI_BOOL is_file_delete;
    MMI_BOOL is_switchto_vdoply;
    MMI_BOOL is_forward;
    MMI_BOOL is_storage_change;

} mmi_camco_rec_cntx_struct;

typedef struct
{
    mmi_camco_preview_wnd_struct preview_wnd;
    mmi_camco_preview_wnd_struct quickview_wnd;
	S32 quickview_image_width;
	S32 quickview_image_height;
    
#ifdef __MMI_CAMCO_CAM_SUBLCD_CAPTURE__
    mmi_camco_preview_wnd_struct sublcd_preview_wnd;
#endif 

    mmi_camco_partial_request_struct partial_app;
    mmi_camco_option_menulist_struct option_menulist;

    mmi_camco_cam_cntx_struct cam;
    mmi_camco_rec_cntx_struct rec;
    
    S32 preview_timeout_count;
    void *app_mem_buf_p;
    mmi_id memory_group_id;
    void *app_med_mem_buf_p;    
    void *app_preview_mem_buf_p;        
    gdi_handle base_layer_handle;
    gdi_handle preview_base_layer_handle;
    gdi_handle non_preview_base_layer_handle;    
#ifdef __MMI_SUBLCD__
    gdi_handle sublcd_base_layer_handle;
#endif 

    U16 fowarditem_idlist[MMI_CAMCO_FORWARD_ITEM_NUM];

    MMI_BOOL is_sublcd_display;
    MMI_BOOL is_power_on;
    MMI_BOOL is_preview_start;
    MMI_BOOL is_restart_preview;
    MMI_BOOL is_osd_init;
    MMI_BOOL is_switching_app;
    MMI_BOOL is_errortimer_start;
    MMI_BOOL is_autofocus_success;
    MMI_BOOL is_capture_when_focused;
    MMI_BOOL is_playing_focused_wav;
    MMI_BOOL is_camera_key_release;
    MMI_BOOL is_restore_default;
    MMI_BOOL is_disable_tvout;
    MMI_BOOL is_to_media_editor;
    MMI_BOOL is_switchto_maincamera;
    MMI_BOOL is_switchto_subcamera;
    MMI_BOOL is_switchto_non_avaiable_storage;
    MMI_BOOL is_highlight_on;
    MMI_BOOL has_got_base_layer;
    MMI_BOOL is_priview_layer_active;    
    MMI_BOOL is_preemptable;
#ifdef __MMI_CAMCO_FTE__
    MMI_BOOL is_camerakey_valid;
#endif 
   MMI_BOOL is_post_process_pause;
	MMI_BOOL is_color_engine_enable;

    U32 start_ticks;
    U32 end_ticks;

    mmi_camco_state_enum app_state;
#if defined(__CAMERA_MOTION_SENSOR_SUPPORT_BY_TAG__ ) || defined(__RECORDER_MOTION_SENSOR_SUPPORT_BY_TAG__ )
    S32 tilt_handle;
    U8 rotate;
#endif
} mmi_camco_cntx_struct;

extern MMI_BOOL mmi_camco_is_switching_maincamera(void);
extern MMI_BOOL mmi_camco_is_switching_subcamera(void);
extern MMI_BOOL mmi_camco_is_from_external(void);
extern MMI_BOOL mmi_camco_is_preview(void);
extern void mmi_camco_set_option_menulist_highlight_idx(S32 value);
extern void mmi_camco_update_camscenemode(U16 camscenemode);
extern void mmi_camco_update_capsize(void);
extern void mmi_camco_update_iso(U16 iso);
extern void mmi_camco_update_capqty(U16 capqty);
extern void mmi_camco_update_capmode(U16 capmode);
extern void mmi_camco_update_flash(U16 flash);
extern void mmi_camco_update_afrange(U16 afrange);
extern void mmi_camco_update_wb(U16 wb);
extern void mmi_camco_update_sharpness(U16 sharpness);
extern void mmi_camco_update_contrast(U16 contrast);
extern void mmi_camco_update_saturation(U16 saturation);
extern void mmi_camco_update_effect(U16 effect);
extern U16 mmi_camco_update_zoom_factor(void);
extern void mmi_camco_update_afzone(U16 afzone);
extern void mmi_camco_update_aemeter(U16 aemeter);
extern void mmi_camco_update_afmode(U16 afmode);
extern void mmi_camco_update_banding(U16 banding);
extern void mmi_camco_update_storage(U16 storage);
MMI_BOOL mmi_camco_is_drive_avaiable(void);
extern void mmi_camco_update_vdosize(U16 vdosize);
extern void mmi_camco_update_recsizelimit(U16 sizelimit);
extern void mmi_camco_update_rectimelimit(U16 timelimit);
extern void mmi_camco_update_reclimit(U16 limit);
extern void mmi_camco_update_recaud(U16 recaud);
extern void mmi_camco_update_visformat(U16 visformat);
extern void mmi_camco_update_visqty(U16 visqty);
extern void mmi_camco_update_vdoscenemode(U16 vdoscenemode);
extern void mmi_camco_update_timestamp(U16 timestamp);
extern void mmi_camco_update_restore_default_setting(U16 restoredefault);
extern void mmi_camco_update_ev(U16 ev);

#if defined(__MMI_CAMCO_FEATURE_CAM_BURSTSHOT_SELECT__) || defined(__MMI_CAMCO_FEATURE_CAM_AEBSHOT_SELECT__)
extern void mmi_camco_updata_key_handler(void);
#endif 
extern void mmi_camco_update_facedetect(U16 facedetect);
extern void mmi_camco_set_camera_id(U16 cam_id);

extern void mmi_camco_highlight_turn_on(void);
extern void mmi_camco_highlight_turn_off(void);
extern void mmi_camco_cam_play_shuttersound(U16 shuttersound);
extern void mmi_camco_start_zoom_in_one_step(void);
extern void mmi_camco_start_zoom_out_one_step(void);
extern void mmi_camco_start_fast_zoom_in(void);
extern void mmi_camco_start_fast_zoom_out(void);
extern void mmi_camco_stop_fast_zoom(void);
extern void mmi_camco_switch_app(void);

#ifdef __MMI_CAMCO_CAM_SUBLCD_CAPTURE__
extern void mmi_camco_cam_switch_to_sublcd(void);
#endif 
extern void mmi_camco_switch_main_camera(void);
extern void mmi_camco_switch_sub_camera(void);
extern void mmi_camco_switch_to_vdoply(void);
extern void mmi_camco_switch_to_imgviewer(void);
extern void mmi_camco_switch_non_avaiable_storage(MMI_BOOL is_not_avaiable);

extern void mmi_camco_reset_restore_default_setting(U16 restoredefault);
#ifdef __MMI_CAMCO_CAM_SUBLCD_CAPTURE__
extern void mmi_camco_cam_unswitch_to_sublcd(void);
#endif
extern void mmi_camco_unswitch_to_vdoply(void);
extern MMI_BOOL mmi_camco_if_need_restart_preview(void);
extern void mmi_camco_unswitch_main_camera(void);
extern void mmi_camco_unswitch_sub_camera(void);
extern void mmi_camco_unswitch_to_imgviewer(void);
extern void mmi_camco_unswitch_app(void);

extern U64 mmi_camco_get_record_time(void);
extern U64 mmi_camco_get_predict_record_time(void);
extern U16 mmi_camco_get_record_progress_ratio(void);
extern void mmi_camco_get_multiselect_img_info(
                U8 *img_num,
                mdi_camera_jpegs_struct **img_p,
                U8 ***cache_imgdata_pp,
                MMI_BOOL **save_flag_p);
extern void mmi_camco_get_preview_region(S32 *offset_x_p, S32 *offset_y_p, S32 *width_p, S32 *height_p);

#ifdef __MMI_CAMCO_FEATURE_CAM_AUTORAMA_SHOT__
extern mmi_camco_cam_get_preview_size(S32* width_p, S32* height_p);
extern void mmi_camco_get_autorama_capture_image(
                U8 **image_buf_pp,
                U32 *image_buf_size_p,
                U32 *image_width_p,
                U32 *image_height_p);
extern U8 mmi_camco_get_autorama_capture_count(void);
#endif /* __MMI_CAMCO_FEATURE_CAM_AUTORAMA_SHOT__ */ 
extern U16 mmi_camco_update_zoom_step(void);

#ifdef __MMI_CAMCO_FEATURE_PREVIEW_WATCHDOG_TIMEOUT__
extern void mmi_camco_reset_preview_terminate_timer(void);
#endif 
extern void mmi_camco_cam_face_detect_start(void);
extern void mmi_camco_cam_face_detect_stop(void);
extern void mmi_camco_cam_scene_detect_start(void);
extern void mmi_camco_cam_scene_detect_stop(void);
extern void mmi_camco_cam_scene_detect_cyclic(void);
extern U16 mmi_camco_get_cmd_capsize(U16 *width_p, U16 *height_p);
#ifdef __MMI_CAMCO_MED_PANO_STITCH_SHARE_ASM__
extern MDI_RESULT mdi_camera_set_panorama_stitch_memory(U8* buffer, U32 buffer_size);
#endif
#ifdef __CAMERA_MOTION_SENSOR_SUPPORT_BY_TAG__
extern U8 mmi_camco_get_capture_rotate_value(void);
#endif
#endif /* __MMI_CAMCORDER__ */ 
#endif /* _CAMCORDER_DATATYPE_H_ */ 

